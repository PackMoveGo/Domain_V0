"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{2593:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5155),o=a(2115),n=a(4340),r=a(2335),i=a(9872);let l=()=>{let e,t,a,l,c,d=(0,r.Zp)(),u=(0,r.zy)(),[h,m]=(0,o.useState)(!0),[p,g]=(0,o.useState)(!1),[v,x]=(0,o.useState)(!1),[f,y]=(0,o.useState)(!1),b=(0,o.useRef)(0);["/cookie-opt-out","/privacy","/terms"].includes(u.pathname);let E="/cookie-opt-out"===u.pathname,[w,C]=(0,o.useState)(!1),[N,k]=(0,o.useState)(null);try{let s=(0,n.k)();s.preferences,e=s.hasOptedOut,t=s.hasMadeChoice,a=s.optIn,s.optOut,s.updatePreferences,l=s.isLoading,s.isApiBlocked,s.checkBannerTimer,c=s.clearBannerCache}catch(s){console.error("\uD83C\uDF6A CookieOptOut: Error accessing cookie preferences:",s),e=!1,t=!1,l=!1,a=()=>console.warn("Cookie preferences not available"),c=()=>{}}let A=()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.touchAction="",document.documentElement.style.overflow="",document.documentElement.style.touchAction="",window.scrollTo(0,b.current)};(0,o.useEffect)(()=>{let e=setTimeout(()=>{x(!0)},100);return()=>clearTimeout(e)},[]),(0,o.useEffect)(()=>{if(v&&!l){let e=setTimeout(()=>{C(!0)},200);return()=>clearTimeout(e)}},[v,l]),(0,o.useEffect)(()=>{let e=()=>{console.log("\uD83C\uDF6A Cookie consent reset event received - showing modal"),m(!0),g(!1)};return window.addEventListener("cookie-consent-reset",e),()=>window.removeEventListener("cookie-consent-reset",e)},[]),(0,o.useEffect)(()=>{let e;return h&&!l&&v&&!E?e=(()=>{b.current=window.scrollY,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-".concat(b.current,"px"),document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.documentElement.style.overflow="hidden",document.body.style.touchAction="none",document.documentElement.style.touchAction="none";let e=e=>{e.preventDefault()},t=e=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space","PageUp","PageDown","Home","End"].includes(e.code)&&e.preventDefault()};return document.addEventListener("wheel",e,{passive:!1}),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("keydown",t),()=>{document.removeEventListener("wheel",e),document.removeEventListener("touchmove",e),document.removeEventListener("keydown",t)}})():h||E||A(),()=>{e&&e(),E||A()}},[h,l,v,E]);let T=()=>{console.log("\uD83C\uDF6A CookieOptOut: handleOptIn called"),console.log("\uD83C\uDF6A CookieOptOut: optIn function available:",!!a),console.log("\uD83C\uDF6A CookieOptOut: hasMadeChoice:",t,"hasOptedOut:",e),k("accept"),a?(console.log("\uD83C\uDF6A CookieOptOut: Calling optIn function"),y(!0),a(),E?setTimeout(()=>{console.log("\uD83C\uDF6A CookieOptOut: Navigating to home page after opt-in (full page mode)"),d("/")},500):(g(!0),setTimeout(()=>{m(!1),g(!1),y(!1),console.log("\uD83C\uDF6A CookieOptOut: Waiting for API state to update before navigation..."),setTimeout(()=>{console.log("\uD83C\uDF6A CookieOptOut: Navigating to home page after opt-in"),d("/")},200)},300))):console.warn("\uD83C\uDF6A CookieOptOut: Cookie preferences context not available for opt-in")},S=()=>{k("custom"),localStorage.setItem("packmovego-last-banner-time",(0,i.mI)().toString()),c&&c(),E||d("/cookie-opt-out")},R=()=>{localStorage.setItem("packmovego-last-banner-time",(0,i.mI)().toString()),c&&c(),E?d("/"):(g(!0),setTimeout(()=>{m(!1),g(!1)},300))};return h&&!l&&v?E?(0,s.jsx)("div",{className:"min-h-screen py-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"\n            bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-6 sm:p-8 lg:p-12 relative\n            transition-all duration-1000 ease-out\n            ".concat(w?"translate-y-0 opacity-100 scale-100":"translate-y-12 opacity-0 scale-95","\n            border border-white/20\n          "),children:[(0,s.jsx)("button",{onClick:()=>{E?d("/"):(g(!0),setTimeout(()=>{m(!1),g(!1)},300))},className:"\n                absolute top-4 right-4 w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 rounded-full flex items-center justify-center transition-all duration-300 z-10 touch-manipulation\n                ".concat(w?"translate-x-0 opacity-100":"translate-x-4 opacity-0","\n              "),style:{transitionDelay:w?"200ms":"0ms"},"aria-label":"Close cookie preferences",children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsxs)("div",{className:"\n              text-center mb-6 sm:mb-8\n              transition-all duration-1000 ease-out delay-300\n              ".concat(w?"translate-y-0 opacity-100":"translate-y-6 opacity-0","\n            "),children:[(0,s.jsx)("div",{className:"\n                w-16 h-16 sm:w-20 sm:h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6\n                transition-all duration-1000 ease-out delay-400\n                ".concat(w?"scale-100 rotate-0":"scale-75 rotate-12","\n              "),children:(0,s.jsx)("svg",{className:"\n                  w-8 h-8 sm:w-10 sm:h-10 text-red-600\n                  transition-all duration-800 ease-out delay-500\n                  ".concat(w?"scale-100":"scale-0","\n                "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsx)("h1",{className:"\n                text-2xl sm:text-3xl font-bold text-gray-900 mb-3\n                transition-all duration-800 ease-out delay-600\n                ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n              "),children:"Cookie Preferences"}),(0,s.jsx)("p",{className:"\n                text-base sm:text-lg text-gray-600\n                transition-all duration-800 ease-out delay-700\n                ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n              "),children:"Manage your cookie preferences and privacy settings"})]}),(0,s.jsx)("div",{className:"\n          bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6\n          transition-all duration-700 ease-out delay-400\n          ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n        "),children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-yellow-800 mb-2",children:"Third-Party Advertising Cookies"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-yellow-700 leading-relaxed",children:'This website uses third party advertising cookies to serve you relevant ads. You may opt-out from these third party ad cookies by clicking the "Opt-out" button below. If you have a Pack Move GO account, you may opt-out of the "sale" or "sharing" of your data here.'})]})]})}),(0,s.jsx)("div",{className:"\n          bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6\n          transition-all duration-700 ease-out delay-500\n          ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n        "),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{className:"text-sm sm:text-base text-red-800 font-medium",children:e?"You are currently opted out of all cookies":"Please make a choice about cookie preferences"})]})}),(0,s.jsxs)("div",{className:"\n          flex flex-col sm:flex-row gap-3 sm:gap-4\n          transition-all duration-700 ease-out delay-600\n          ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n        "),children:[(0,s.jsxs)("button",{onClick:T,disabled:f,className:"\n              flex-1 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white font-semibold \n              py-3 sm:py-3 px-4 sm:px-6 rounded-lg transition duration-200 flex items-center justify-center\n              min-h-[48px] touch-manipulation\n              ".concat(f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700 active:bg-blue-800","\n              ").concat("accept"===N?"ring-2 ring-blue-300 ring-offset-2":"","\n            "),children:[(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,s.jsx)("span",{className:"text-sm sm:text-base",children:f&&"accept"===N?"Opting In...":"Opt In to All Cookies"})]}),(0,s.jsx)("button",{onClick:S,disabled:f,className:"\n              flex-1 bg-gray-200 hover:bg-gray-300 active:bg-gray-400 text-gray-800 font-semibold \n              py-3 sm:py-3 px-4 sm:px-6 rounded-lg transition duration-200 min-h-[48px] touch-manipulation\n              ".concat(f?"opacity-50 cursor-not-allowed":"hover:bg-gray-300 active:bg-gray-400","\n              ").concat("custom"===N?"ring-2 ring-gray-300 ring-offset-2":"","\n            "),children:(0,s.jsx)("span",{className:"text-sm sm:text-base",children:"Manage Preferences"})})]}),t&&!e&&(0,s.jsx)("div",{className:"\n            mt-3 sm:mt-4 text-center\n            transition-all duration-700 ease-out delay-700\n            ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n          "),children:(0,s.jsx)("button",{onClick:R,disabled:f,className:"\n                text-sm sm:text-base text-gray-500 hover:text-gray-700 active:text-gray-800 underline\n                py-2 px-3 touch-manipulation\n                ".concat(f?"opacity-50 cursor-not-allowed":"hover:text-gray-700 active:text-gray-800","\n              "),children:"Dismiss for 30 minutes"})}),(0,s.jsx)("div",{className:"\n              mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200\n              transition-all duration-700 ease-out delay-800\n              ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n            "),children:(0,s.jsxs)("p",{className:"text-sm sm:text-base text-gray-600 text-center leading-relaxed",children:["By opting in, you agree to our"," ",(0,s.jsx)("a",{href:"/privacy",className:"text-blue-600 hover:text-blue-800 active:text-blue-900 underline touch-manipulation",children:"Privacy Policy"})," ","and"," ",(0,s.jsx)("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 active:text-blue-900 underline touch-manipulation",children:"Terms of Service"})]})})]})})}):(0,s.jsx)("div",{className:"\n        fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[10001] p-2 sm:p-4\n        transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)]\n        ".concat(p?"opacity-0 backdrop-blur-none":"opacity-100 backdrop-blur-sm","\n        ").concat(v?"":"pointer-events-none","\n      "),style:{touchAction:"none"},children:(0,s.jsxs)("div",{className:"\n        bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-2xl w-full p-4 sm:p-6 lg:p-8 relative\n        transition-all duration-1000 ease-[cubic-bezier(0.34,1.56,0.64,1)] max-h-[95vh] overflow-y-auto\n        ".concat(p?"scale-90 opacity-0 rotate-2 translate-y-4":"scale-100 opacity-100 rotate-0 translate-y-0","\n        ").concat(w?"translate-y-0":"translate-y-12","\n        border border-white/20\n        hover:shadow-3xl\n      "),children:[(0,s.jsxs)("div",{className:"\n          text-center mb-4 sm:mb-6\n          transition-all duration-1000 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-200\n          ".concat(w?"translate-y-0 opacity-100":"translate-y-8 opacity-0","\n        "),children:[(0,s.jsx)("div",{className:"\n            w-12 h-12 sm:w-16 sm:h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4\n            transition-all duration-1200 ease-[cubic-bezier(0.68,-0.55,0.265,1.55)] delay-300\n            ".concat(w?"scale-100 rotate-0":"scale-50 rotate-180","\n            hover:scale-110 hover:rotate-12 hover:bg-red-200\n            shadow-lg hover:shadow-xl\n          "),children:(0,s.jsx)("svg",{className:"\n              w-6 h-6 sm:w-8 sm:h-8 text-red-600\n              transition-all duration-800 ease-[cubic-bezier(0.68,-0.55,0.265,1.55)] delay-500\n              ".concat(w?"scale-100 rotate-0":"scale-0 rotate-360","\n            "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsx)("h2",{className:"\n            text-xl sm:text-2xl font-bold text-gray-900 mb-2\n            transition-all duration-800 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-600\n            ".concat(w?"translate-y-0 opacity-100":"translate-y-6 opacity-0","\n            hover:text-red-600\n          "),children:"Cookie Preferences"}),(0,s.jsx)("p",{className:"\n            text-sm sm:text-base text-gray-600\n            transition-all duration-800 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-700\n            ".concat(w?"translate-y-0 opacity-100":"translate-y-6 opacity-0","\n          "),children:"Manage your cookie preferences and privacy settings"})]}),(0,s.jsx)("div",{className:"\n          bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6\n          transition-all duration-1000 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-800\n          ".concat(w?"translate-y-0 opacity-100 scale-100":"translate-y-8 opacity-0 scale-90","\n          hover:shadow-lg hover:scale-[1.02] hover:bg-yellow-100\n        "),children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"\n              flex-shrink-0\n              transition-all duration-800 ease-[cubic-bezier(0.68,-0.55,0.265,1.55)] delay-900\n              ".concat(w?"scale-100 rotate-0":"scale-0 rotate-360","\n            "),children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 mt-0.5 transition-all duration-300 hover:scale-110 hover:text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{className:"\n              ml-3\n              transition-all duration-800 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-1000\n              ".concat(w?"translate-x-0 opacity-100":"translate-x-6 opacity-0","\n            "),children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-yellow-800 mb-2 transition-all duration-300 hover:text-yellow-900",children:"Third-Party Advertising Cookies"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-yellow-700 leading-relaxed transition-all duration-300 hover:text-yellow-800",children:'This website uses third party advertising cookies to serve you relevant ads. You may opt-out from these third party ad cookies by clicking the "Opt-out" button below. If you have a Pack Move GO account, you may opt-out of the "sale" or "sharing" of your data here.'})]})]})}),(0,s.jsx)("div",{className:"\n          bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6\n          transition-all duration-1000 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-1100\n          ".concat(w?"translate-y-0 opacity-100 scale-100":"translate-y-8 opacity-0 scale-90","\n          hover:shadow-lg hover:scale-[1.02] hover:bg-red-100\n        "),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"\n              flex-shrink-0\n              transition-all duration-800 ease-[cubic-bezier(0.68,-0.55,0.265,1.55)] delay-1200\n              ".concat(w?"scale-100 rotate-0":"scale-0 rotate-360","\n            "),children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 mr-2 transition-all duration-300 hover:scale-110 hover:text-red-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("span",{className:"\n              text-sm sm:text-base text-red-800 font-medium\n              transition-all duration-800 ease-[cubic-bezier(0.34,1.56,0.64,1)] delay-1300\n              ".concat(w?"translate-x-0 opacity-100":"translate-x-6 opacity-0","\n            "),children:e?"You are currently opted out of all cookies":"Please make a choice about cookie preferences"})]})}),(0,s.jsxs)("div",{className:"\n          flex flex-col sm:flex-row gap-3 sm:gap-4\n          transition-all duration-700 ease-out delay-1200\n          ".concat(w?"translate-y-0 opacity-100":"translate-y-8 opacity-0","\n        "),children:[(0,s.jsxs)("button",{onClick:T,disabled:f,className:"\n              flex-1 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white font-semibold \n              py-3 sm:py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 flex items-center justify-center\n              min-h-[48px] touch-manipulation transform\n              ".concat(f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700 active:bg-blue-800 hover:scale-105 hover:shadow-lg","\n              ").concat("accept"===N?"ring-4 ring-blue-300 ring-offset-2 scale-105 shadow-lg":"","\n              ").concat(w?"translate-x-0":"translate-x-8","\n            "),style:{transitionDelay:w?"1300ms":"0ms"},children:[(0,s.jsx)("svg",{className:"\n              w-4 h-4 sm:w-5 sm:h-5 mr-2 flex-shrink-0\n              transition-all duration-300 ease-out\n              ".concat("accept"===N?"scale-110 rotate-12":"scale-100 rotate-0","\n            "),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,s.jsx)("span",{className:"\n              text-sm sm:text-base\n              transition-all duration-300 ease-out\n              ".concat("accept"===N?"font-bold":"font-semibold","\n            "),children:f&&"accept"===N?"Opting In...":"Opt In to All Cookies"})]}),(0,s.jsx)("button",{onClick:S,disabled:f,className:"\n              flex-1 bg-gray-200 hover:bg-gray-300 active:bg-gray-400 text-gray-800 font-semibold \n              py-3 sm:py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 min-h-[48px] touch-manipulation transform\n              ".concat(f?"opacity-50 cursor-not-allowed":"hover:bg-gray-300 active:bg-gray-400 hover:scale-105 hover:shadow-lg","\n              ").concat("custom"===N?"ring-4 ring-gray-300 ring-offset-2 scale-105 shadow-lg":"","\n              ").concat(w?"translate-x-0":"translate-x-8","\n            "),style:{transitionDelay:w?"1400ms":"0ms"},children:(0,s.jsx)("span",{className:"\n              text-sm sm:text-base\n              transition-all duration-300 ease-out\n              ".concat("custom"===N?"font-bold":"font-semibold","\n            "),children:"Manage Preferences"})})]}),t&&!e&&(0,s.jsx)("div",{className:"\n            mt-3 sm:mt-4 text-center\n            transition-all duration-700 ease-out delay-1500\n            ".concat(w?"translate-y-0 opacity-100":"translate-y-6 opacity-0","\n          "),children:(0,s.jsx)("button",{onClick:R,disabled:f,className:"\n                text-sm sm:text-base text-gray-500 hover:text-gray-700 active:text-gray-800 underline\n                py-2 px-3 touch-manipulation transition-all duration-300 transform\n                ".concat(f?"opacity-50 cursor-not-allowed":"hover:text-gray-700 active:text-gray-800 hover:scale-105","\n                ").concat(w?"translate-x-0":"translate-x-4","\n              "),style:{transitionDelay:w?"1600ms":"0ms"},children:"Dismiss for 30 minutes"})}),(0,s.jsx)("div",{className:"\n          mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200\n          transition-all duration-700 ease-out delay-1700\n          ".concat(w?"translate-y-0 opacity-100":"translate-y-6 opacity-0","\n        "),children:(0,s.jsxs)("p",{className:"\n            text-xs sm:text-sm text-gray-600 text-center leading-relaxed\n            transition-all duration-600 ease-out delay-1800\n            ".concat(w?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n          "),children:["By opting in, you agree to our"," ",(0,s.jsx)("a",{href:"/privacy",className:"text-blue-600 hover:text-blue-800 active:text-blue-900 underline touch-manipulation transition-all duration-300 hover:scale-105",children:"Privacy Policy"})," ","and"," ",(0,s.jsx)("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 active:text-blue-900 underline touch-manipulation transition-all duration-300 hover:scale-105",children:"Terms of Service"})]})})]})}):E?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading cookie preferences..."})]})}):null}},3719:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(5155),o=a(2115),n=a(7857);function r(e){let{isVisible:t,onClose:a,failureDetails:r,failedEndpoints:i=[],is503Error:l=!1}=e,[c,d]=(0,o.useState)(!1),[u,h]=(0,o.useState)([]),[m,p]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{t&&(h(i),p(l))},[t,i,l]),(0,o.useEffect)(()=>{if(t){let e=setTimeout(()=>d(!0),100);return()=>clearTimeout(e)}d(!1)},[t]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"\n          fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] \n          transition-opacity duration-300 ease-in-out\n          ".concat(c?"opacity-100":"opacity-0","\n        "),onClick:a}),(0,s.jsx)("div",{className:"\n          fixed inset-0 z-[10000] flex items-center justify-center p-2 sm:p-4\n          transition-all duration-300 ease-in-out\n          ".concat(c?"scale-100 opacity-100":"scale-95 opacity-0","\n        "),children:(0,s.jsxs)("div",{className:" bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-sm sm:max-w-md w-full mx-2 sm:mx-4 border border-gray-200 overflow-hidden max-h-[90vh] overflow-y-auto ",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-4 sm:px-6 py-3 sm:py-4",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-2 sm:space-x-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"text-white text-xl sm:text-2xl flex-shrink-0",children:"⚠️"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h2",{className:"text-white font-bold text-base sm:text-lg leading-tight",children:m?"Service Temporarily Unavailable":"Website Failed to Load"}),(0,s.jsxs)("p",{className:"text-red-100 text-xs sm:text-sm mt-1",children:["Status: ","503 Service Unavailable"]}),!1]})]}),(0,s.jsx)("button",{onClick:a,className:"text-white/80 hover:text-white transition-colors flex-shrink-0 ml-2","aria-label":"Close modal",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:[(0,s.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,s.jsxs)("div",{className:"text-gray-600 mb-3 sm:mb-4",children:[(0,s.jsx)("p",{className:"text-base sm:text-lg font-medium text-gray-800 mb-2",children:m?"Our services are temporarily unavailable":"We're experiencing technical difficulties"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:m?"Our API services are currently down for maintenance. This affects the dynamic content on our website, but you can still browse our static content and contact us directly.":"The website failed to load properly. This could be due to a temporary server issue, network problem, or browser compatibility issue."}),!1]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 mb-3 sm:mb-4",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"HTTP Status Code"}),(0,s.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:"503"}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Service Unavailable"})]})]}),(0,s.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,s.jsxs)("button",{onClick:()=>{(0,n.resetHealthGate)(),window.location.reload()},className:" w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 text-sm sm:text-base ",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,s.jsx)("span",{children:m?"Refresh Page":"Try Again"})]}),m&&(0,s.jsxs)("button",{onClick:()=>window.open("mailto:contact@packmovego.com","_blank"),className:" w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2.5 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 text-sm sm:text-base ",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,s.jsx)("span",{children:"Contact Us Directly"})]}),(0,s.jsxs)("button",{onClick:()=>{window.open("mailto:report@packmovego.com","_blank")},className:" w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2.5 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 text-sm sm:text-base ",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,s.jsx)("span",{children:"Report Bug"})]}),(0,s.jsx)("button",{onClick:a,className:" w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-3 sm:px-4 rounded-lg transition-colors duration-200 text-sm sm:text-base ",children:"Dismiss"})]}),(0,s.jsx)("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200",children:(0,s.jsx)("div",{className:"text-xs text-gray-500 text-center",children:m?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"Our API services are temporarily down for maintenance."}),(0,s.jsx)("p",{className:"mt-1",children:"You can still browse our website and contact us directly."}),(0,s.jsx)("p",{className:"mt-2",children:(0,s.jsx)("a",{href:"mailto:contact@packmovego.com",className:"text-blue-600 hover:text-blue-800 underline break-all",children:"contact@packmovego.com"})})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"If the problem persists, please contact our support team."}),(0,s.jsx)("p",{className:"mt-1",children:(0,s.jsx)("a",{href:"mailto:report@packmovego.com",className:"text-blue-600 hover:text-blue-800 underline break-all",children:"report@packmovego.com"})})]})})})]})]})})]}):null}},4179:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(5155),o=a(2115),n=a(2335),r=a(9872);function i(e){let{onSubmit:t}=e,i=(0,n.Zp)(),{isOnline:l}=(()=>{let[e,t]=(0,o.useState)(!0),[,s]=(0,o.useState)((0,r.mI)());return(0,o.useEffect)(()=>{let e=async()=>{try{let{api:e}=await Promise.resolve().then(a.bind(a,7857)),o=await e.checkHealth();t(!!o&&!o.error),s(Date.now())}catch(e){t(!1)}};e();let o=setInterval(e,3e4);return()=>clearInterval(o)},[]),{isOnline:e}})(),[c,d]=(0,o.useState)({fromZip:"",toZip:"",moveDate:"",rooms:"",firstName:"",lastName:"",phone:""}),u=e=>{let{name:t,value:a}=e.target;d(e=>({...e,[t]:a}))};return(0,s.jsx)("section",{className:"py-16 bg-gray-50",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Get Your Free Quote"}),(0,s.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"Fill out the form and a team member will follow up with you"}),l?(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Form submitted:",c),t&&t(c),i("/booking")},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fromZip",className:"block text-sm font-medium text-gray-700 mb-1",children:"Moving From Zip Code"}),(0,s.jsx)("input",{type:"text",id:"fromZip",name:"fromZip",value:c.fromZip,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"toZip",className:"block text-sm font-medium text-gray-700 mb-1",children:"Moving to Zip Code"}),(0,s.jsx)("input",{type:"text",id:"toZip",name:"toZip",value:c.toZip,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"moveDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Moving Date"}),(0,s.jsx)("input",{type:"date",id:"moveDate",name:"moveDate",value:c.moveDate,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Rooms"}),(0,s.jsx)("input",{type:"text",id:"rooms",name:"rooms",value:c.rooms,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,s.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,s.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:c.lastName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 transition duration-300",children:"Submit"})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl font-bold text-red-600 mb-4",children:"503"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"Service temporarily unavailable. Please try again later."})]}),l&&(0,s.jsx)("p",{className:"text-center text-gray-600 mt-4",children:"Someone from our team will be reaching out soon!"})]})})})}i.displayName="QuoteForm"},4340:(e,t,a)=>{a.d(t,{k:()=>n}),a(5155);var s=a(2115);a(7978),a(7857);let o=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useCookiePreferences must be used within a CookiePreferencesProvider");return e}},5953:(e,t,a)=>{a.d(t,{$:()=>s});let s={wrapper:"bg-white shadow-sm relative z-50",container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",header:"h-16 flex items-center justify-between bg-white relative z-[60]",logo:"flex-shrink-0 text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors duration-200 relative z-[60] mr-8",desktop:{nav:"flex items-center space-x-1 justify-end flex-1 min-w-0",link:{base:"px-3 py-2 border-b-2 text-sm font-medium transition-all duration-300 ease-out text-gray-700 whitespace-nowrap flex-shrink-0",active:"border-blue-500 text-gray-900",inactive:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}},mobileBottom:{wrapper:"relative hidden",menuButton:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-md transition-colors duration-200 relative z-[60]",menuButtonActive:"bg-blue-50 text-blue-600",overlay:"fixed left-0 right-0 top-16 bottom-0 bg-black bg-opacity-25 transition-opacity duration-300 ease-in-out z-40",panel:"fixed right-4 top-20 bg-white shadow-lg overflow-y-auto flex flex-col z-50 rounded-lg transform transition-all duration-300 ease-in-out w-48 max-w-[280px]",panelOpen:"min-h-[200px] max-h-[60vh] translate-y-0",panelClosed:"h-0 -translate-y-full",content:"flex-1 py-3 px-4 space-y-2 overflow-y-auto w-full",link:{base:"block w-full px-4 py-3 text-base font-medium transition-all duration-300 ease-out transform break-words whitespace-normal",active:"bg-blue-50 text-blue-700 border-l-4 border-blue-600",inactive:"text-gray-600 hover:bg-gray-50 hover:text-gray-900"},bookNowWrapper:"p-4 border-t border-gray-200 flex-shrink-0 w-full",bookNowButton:"w-full h-10 bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700 transition-all duration-300 ease-out transform hover:scale-[1.02] active:scale-[0.98] font-semibold shadow-md hover:shadow-lg flex items-center justify-center text-base font-medium"},search:{wrapper:"sticky top-16 z-40 w-full bg-transparent border-t border-gray-200 transition-all duration-150 ease-in-out py-2",container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",content:"flex items-center gap-4 w-full",form:"relative flex-1 w-full",input:"w-full h-10 px-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-base bg-white",iconWrapper:"absolute left-0 inset-y-0 pl-3 flex items-center pointer-events-none",icon:"h-5 w-5 text-gray-400",clearButton:"absolute right-0 inset-y-0 pr-3 flex items-center cursor-pointer",clearIcon:"h-5 w-5 text-gray-400 hover:text-gray-500",signInButton:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 whitespace-nowrap font-medium",results:{wrapper:"absolute left-0 right-0 mt-2 bg-white shadow-xl rounded-lg border border-gray-200 max-h-96 overflow-y-auto z-50",container:"py-2",item:"w-full text-left px-4 py-2 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",title:"text-sm font-medium text-gray-900",description:"text-sm text-gray-500"}}}},6461:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(5155),o=a(2115);let n=()=>{let[e,t]=(0,o.useState)(!1),a=()=>{window.pageYOffset>300?t(!0):t(!1)};return(0,o.useEffect)(()=>{let e=null,t=()=>{e&&clearTimeout(e),e=setTimeout(a,100)};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t),e&&clearTimeout(e)}},[]),(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 right-6 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors z-50","aria-label":"Scroll to top",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})};n.displayName="ScrollToTopButton";let r=n},6901:(e,t,a)=>{a.d(t,{U:()=>o});let s=[];function o(e){let t=e.toLowerCase().trim();return t&&0!==s.length?s.filter(e=>{var a,s,o,n;let r=e.title.toLowerCase().includes(t),i=e.description.toLowerCase().includes(t),l=null!=(o=null==(a=e.content)?void 0:a.toLowerCase().includes(t))&&o,c=null!=(n=null==(s=e.tags)?void 0:s.some(e=>e.toLowerCase().includes(t)))&&n;return r||i||l||c}).map(e=>{let{title:t,path:a,description:s}=e;return{title:t,path:a,description:s}}):[]}},7857:(e,t,a)=>{a.r(t),a.d(t,{API_ENDPOINTS:()=>k,APIsw:()=>A,ENV_CONFIG:()=>C,addModalStateListener:()=>Y,api:()=>T,checkAuthStatus:()=>j,checkConsentMiddleware:()=>ec,checkHealth:()=>P,checkHealthWithCache:()=>es,consentAwareMiddleware:()=>ed,getAbout:()=>B,getAboutPageData:()=>W,getApiBlocked:()=>el,getApiFailureModalProps:()=>J,getApiKey:()=>c,getAuthHeaders:()=>z,getBlog:()=>_,getConfig:()=>V,getContact:()=>H,getContactPageData:()=>$,getCurrentPageName:()=>et,getGlobal503Status:()=>p,getHomePageData:()=>K,getLocations:()=>M,getNav:()=>I,getReferral:()=>L,getReviews:()=>O,getServices:()=>D,getSigninHost:()=>d,getSupplies:()=>U,getTrackedApiCalls:()=>ee,getUser:()=>q,healthCheckMiddleware:()=>en,isApiGlobally503:()=>g,isAuthenticated:()=>F,login:()=>S,logout:()=>R,performGlobalHealthCheck:()=>v,preTrackRoutesMiddleware:()=>er,removeModalStateListener:()=>Z,resetApiCallTracking:()=>ea,resetGlobal503Status:()=>x,resetHealthGate:()=>eu,setApiBlocked:()=>ei,setGlobal503Status:()=>m,startPageTracking:()=>Q,testConnection:()=>G,trackApiCall:()=>X,withHealthCheck:()=>eo});var s=a(7978),o=a(8487);function n(e){if(!(e instanceof Error))return!1;let t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("err_connection_refused")||t.includes("network")||t.includes("connection")||t.includes("econnrefused")||t.includes("fetch")||t.includes("timeout")||t.includes("econnreset")}function r(e){if(!(e instanceof Error))return!1;let t=e.message.toLowerCase();return t.includes("503")||t.includes("service unavailable")||t.includes("temporarily unavailable")||(null==e?void 0:e.statusCode)===503||(null==e?void 0:e.is503Error)===!0||n(e)}function i(e,t){let a=Error("503 Service Unavailable: ".concat(e));return a.statusCode=503,a.is503Error=!0,t&&(a.originalError=t,a.originalMessage=t instanceof Error?t.message:String(t)),a}var l=a(5704);let c=()=>((e,t)=>{if(void 0!==l&&l.env&&l.env[e])return l.env[e];let a="__".concat(e.replace("VITE_",""),"__");return window[a]?window[a]:window.__VITE_ENV__&&window.__VITE_ENV__[e]?window.__VITE_ENV__[e]:t||""})("VITE_API_KEY_FRONTEND")||"",d=()=>"https://localhost:3000/signin",u=!1,h=null,m=e=>{u=e},p=()=>u,g=()=>u,v=async()=>h||(h=(async()=>{try{let{api:e}=await Promise.resolve().then(a.bind(a,7857)),t=await e.checkHealth();if(t&&t.error)return m(!0),!1;return m(!1),!0}catch(e){return m(!0),!1}})()),x=()=>{m(!1),h=null};{let e=console.error,t=console.warn,a=console.log,s=e=>{let t=e.toLowerCase();return t.includes("err_connection_refused")||t.includes("failed to fetch")||t.includes("net::err_connection_refused")||t.includes("get https://localhost:3000/v0/health net::err_connection_refused")||t.includes("localhost:3000")||t.includes("err_network")||t.includes("err_internet_disconnected")||t.includes("connection refused")||t.includes("network error")||t.includes("fetch failed")||t.includes("failed to load resource")||t.includes("understand this error")||t.includes("service temporarily unavailable")||t.includes("api is globally unavailable")||t.includes("service.apisw.ts:190")||t.includes("window.fetch @ service.apisw.ts:190")};console.error=function(){for(var t,a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];!s((null==(t=o[0])?void 0:t.toString())||"")&&(s(o.map(e=>(null==e?void 0:e.toString())||"").join(" "))||e.apply(console,o))},console.warn=function(){for(var e,a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];!s((null==(e=o[0])?void 0:e.toString())||"")&&(s(o.map(e=>(null==e?void 0:e.toString())||"").join(" "))||t.apply(console,o))},console.log=function(){for(var e,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];!s((null==(e=o[0])?void 0:e.toString())||"")&&(s(o.map(e=>(null==e?void 0:e.toString())||"").join(" "))||a.apply(console,o))};let o=window.fetch;window.fetch=async function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let n=console.error,r=console.warn,i=console.log;console.error=function(){for(var e,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];s((null==(e=a[0])?void 0:e.toString())||"")||n.apply(console,a)},console.warn=function(){for(var e,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];s((null==(e=a[0])?void 0:e.toString())||"")||r.apply(console,a)},console.log=function(){for(var e,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];s((null==(e=a[0])?void 0:e.toString())||"")||i.apply(console,a)};try{let e=await o.apply(window,t);return console.error=n,console.warn=r,console.log=i,e}catch(e){if(console.error=n,console.warn=r,console.log=i,e instanceof TypeError&&e.message.includes("Failed to fetch"))return new Response(JSON.stringify({error:!0,statusCode:503,message:"Service Unavailable: Connection failed",is503Error:!0,isConnectionError:!0}),{status:503,statusText:"Service Unavailable",headers:{"Content-Type":"application/json"}});throw e}},window.addEventListener("error",e=>{let t=e.message||"",a=e.filename||"",o="".concat(t," ").concat(a).toLowerCase();if(s(t)||s(a)||s(o))return void e.preventDefault()}),window.addEventListener("error",e=>{if(e.target&&e.target!==window){let t=e.target;if(t.src&&t.src.includes("localhost:3000"))return void e.preventDefault()}},!0),window.addEventListener("unhandledrejection",e=>{if(g())return void e.preventDefault();let t=e.reason;if(t&&"object"==typeof t&&s(t.message||t.toString()||""))return void e.preventDefault();if(console.error("\uD83D\uDEA8 Unhandled Promise Rejection:",e.reason),e.reason&&"object"==typeof e.reason){let t=e.reason;(503===t.statusCode||t.is503Error)&&(console.warn("\uD83D\uDEE1️ Preventing crash for 503 error:",t.message),e.preventDefault())}})}let f=new Map,y=new Map,b={maxRetries:3,baseDelay:1e3,maxDelay:1e4,retryableStatusCodes:[503,502,504,0],retryableErrors:["Failed to fetch","ERR_CONNECTION_REFUSED","ERR_NETWORK","timeout"]},E=async function(e,t){let a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.maxRetries;for(let o=0;o<=s;o++)try{return await e()}catch(r){a=r;let e=w(r);if(!e||o===s)throw o===s&&e&&console.warn("\uD83D\uDD04 [".concat(t,"] Max retries (").concat(s,") exceeded for retryable error")),a;let n=Math.min(b.baseDelay*Math.pow(2,o)+1e3*Math.random(),b.maxDelay);console.warn("\uD83D\uDD04 [".concat(t,"] Attempt ").concat(o+1,"/").concat(s+1," failed, retrying in ").concat(Math.round(n),"ms:"),a.message),await new Promise(e=>setTimeout(e,n))}throw a},w=e=>{if(!(e instanceof Error))return!1;let t=e.message.toLowerCase(),a=b.retryableErrors.some(e=>t.includes(e.toLowerCase())),s=(null==e?void 0:e.statusCode)&&b.retryableStatusCodes.includes(e.statusCode);return a||s||n(e)},C=(()=>{let e=(e,t)=>{if(void 0!==l&&l.env&&l.env[e])return l.env[e];let a="__".concat(e.replace("VITE_",""),"__");return window[a]?window[a]:window.__VITE_ENV__&&window.__VITE_ENV__[e]?window.__VITE_ENV__[e]:t||""},t=t=>{let a=e(t);return""!==a&&("true"===a||"1"===a)},a=t=>{let a=e(t);if(""===a)return 0;let s=parseInt(a,10);return isNaN(s)?0:s},s={API_URL:e("VITE_API_URL")||e("VITE_API_BASE_URL")||"https://localhost:3000",SKIP_BACKEND_CHECK:t("VITE_SKIP_BACKEND_CHECK"),DEV_MODE:e("VITE_DEV_MODE"),APP_NAME:e("VITE_APP_NAME"),APP_VERSION:e("VITE_APP_VERSION"),PORT:e("VITE_PORT"),DEV_HTTPS:t("VITE_DEV_HTTPS"),IS_SSR:t("VITE_IS_SSR"),MODE:e("VITE_MODE"),ENABLE_DEV_TOOLS:t("ENABLE_DEV_TOOLS"),REDUCE_LOGGING:t("VITE_REDUCE_LOGGING"),API_TIMEOUT:a("VITE_API_TIMEOUT"),API_RETRY_ATTEMPTS:a("VITE_API_RETRY_ATTEMPTS"),CACHE_ENABLED:t("VITE_CACHE_ENABLED"),CACHE_TTL:a("VITE_CACHE_TTL"),CACHE_MAX_SIZE:a("VITE_CACHE_MAX_SIZE"),API_KEY_FRONTEND:c()};return s.API_URL&&!/^https?:\/\//i.test(s.API_URL)&&(s.API_URL="http://".concat(s.API_URL)),"development"===s.DEV_MODE&&(console.log("\uD83D\uDD27 [API-CONFIG] Environment Configuration Loaded:"),console.log("   • API_URL:",s.API_URL),console.log("   • SKIP_BACKEND_CHECK:",s.SKIP_BACKEND_CHECK),console.log("   • DEV_MODE:",s.DEV_MODE),console.log("   • PORT:",s.PORT),console.log("   • API_KEY_FRONTEND:",s.API_KEY_FRONTEND?"set (length: "+s.API_KEY_FRONTEND.length+")":"not set"),console.log("   • import.meta.env available:",!1)),s})();"development"===C.DEV_MODE||l.env;class N{static getInstance(){return N.instance||(N.instance=new N),N.instance}loadStoredToken(){try{if(window.localStorage){let e=localStorage.getItem("packmovego_jwt_token");e&&(this.token=JSON.parse(e),this.token&&this.token.expiresAt<Date.now()&&this.clearToken())}}catch(e){console.warn("Failed to load stored JWT token:",e),this.clearToken()}}setToken(e){this.token=e;try{window.localStorage&&localStorage.setItem("packmovego_jwt_token",JSON.stringify(e))}catch(e){console.warn("Failed to store JWT token:",e)}}getToken(){return!this.token||this.token.expiresAt<Date.now()?(this.clearToken(),null):this.token.token}getUser(){var e;return(null==(e=this.token)?void 0:e.user)||null}isAuthenticated(){return null!==this.getToken()}clearToken(){this.token=null;try{window.localStorage&&localStorage.removeItem("packmovego_jwt_token")}catch(e){console.warn("Failed to clear JWT token:",e)}}getAuthHeaders(){let e=this.getToken();return e?{Authorization:"Bearer ".concat(e)}:{}}needsRefresh(){return!!this.token&&this.token.expiresAt-Date.now()<3e5}constructor(){this.token=null,this.loadStoredToken()}}let k={AUTH:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",STATUS:"/auth/status",REFRESH:"/auth/refresh"},PUBLIC:{NAV:"/public/nav",SERVICES:"/public/services",HEALTH:"/public/health",ABOUT:"/public/about",CONTACT:"/public/contact",REFERRAL:"/public/referral",BLOG:"/public/blog",REVIEWS:"/public/reviews",LOCATIONS:"/public/locations",SUPPLIES:"/public/supplies",TESTIMONIALS:"/public/testimonials",SERVICE_AREAS:"/v0/serviceAreas"},PRIVATE:{NAV:"/v0/nav",SERVICES:"/v0/services",HEALTH:"/health",ABOUT:"/v0/about",CONTACT:"/v0/contact",REFERRAL:"/v0/referral",BLOG:"/v0/blog",REVIEWS:"/v0/reviews",LOCATIONS:"/v0/locations",SUPPLIES:"/v0/supplies",TESTIMONIALS:"/v0/testimonials"}};class A{static getInstance(){return A.instance||(A.instance=new A),A.instance}setApiBlocked(e){this.isApiBlocked=e,this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDEAB API blocking state changed: ".concat(e?"BLOCKED":"ALLOWED"))}getApiBlocked(){return this.isApiBlocked}checkConsentMiddleware(){if(this.isApiBlocked){let e=Error("503 Service Unavailable: API calls blocked due to cookie consent - user must opt in first");throw e.statusCode=503,e.is503Error=!0,e.isConsentBlocked=!0,console.log("\uD83C\uDF6A [CONSENT-BLOCK] API call blocked due to lack of cookie consent"),e}}consentAwareMiddleware(e,t){return async(a,o,n)=>{try{return this.checkConsentMiddleware(),await n()}catch(a){if(console.error("❌ [CONSENT-MIDDLEWARE] ".concat(t," Error for ").concat(e,":"),a),a instanceof Error&&a.message.includes("cookie consent")&&a.message.includes("user must opt in first"))throw console.log("\uD83C\uDF6A [CONSENT-MIDDLEWARE] Consent required for ".concat(e," - not showing API failure modal")),a;if(a instanceof Error&&(a.message.includes("503")||a.message.includes("Service Unavailable")||a.message.includes("temporarily unavailable"))){console.log("\uD83D\uDEA8 [CONSENT-MIDDLEWARE] 503 Error detected for ".concat(e,", showing API failure modal")),this.showApiFailureModal([e],!0);let o=Error("503 Service Unavailable: ".concat(e));o.failedEndpoints=[e],o.attemptedEndpoints=[e],o.primaryError=a,(0,s.hS)(o,e,{context:t,showModal:!1,logError:!0})}else(0,s.hS)(a,e,{context:t,showModal:!1,logError:!0});throw a}}}async checkApiHealth(){let e=Date.now();if(this.apiIsDown){if(e-this.lastHealthCheckTime<this.healthCheckCooldown)return console.log("\uD83D\uDD04 [API-HEALTH] API is down, cooldown active - skipping health check"),!1;this.apiIsDown=!1}if(this.healthCheckInProgress)return!1;try{this.healthCheckInProgress=!0,this.lastHealthCheckTime=e;let t=await this.checkHealth();if(t&&t.error)return this.apiIsDown=!0,m(!0),!1;return this.apiIsDown=!1,!0}catch(e){return this.apiIsDown=!0,m(!0),!1}finally{this.healthCheckInProgress=!1}}resetHealthGate(){this.apiIsDown=!1,this.healthCheckInProgress=!1,this.lastHealthCheckTime=0,this.failedEndpoints.clear(),this.endpointFailureTimes.clear(),this.globalRequestBlocked=!1,this.globalBlockTime=0,this.pendingRequests.clear(),this.requestTimeouts.forEach(e=>clearTimeout(e)),this.requestTimeouts.clear()}isEndpointInCircuitBreaker(e){if(!this.failedEndpoints.has(e))return!1;let t=this.endpointFailureTimes.get(e)||0;return!(Date.now()-t>this.endpointCooldown)||(this.failedEndpoints.delete(e),this.endpointFailureTimes.delete(e),!1)}addEndpointToCircuitBreaker(e){this.failedEndpoints.add(e),this.endpointFailureTimes.set(e,Date.now())}isGlobalRequestBlocked(){return!!this.globalRequestBlocked&&(!(Date.now()-this.globalBlockTime>this.globalBlockCooldown)||(this.globalRequestBlocked=!1,this.globalBlockTime=0,!1))}activateGlobalRequestBlock(){this.globalRequestBlocked=!0,this.globalBlockTime=Date.now()}getRequestKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.method||"GET",s=t.body?JSON.stringify(t.body):"";return"".concat(a,":").concat(e,":").concat(s)}isRequestPending(e){return this.pendingRequests.has(e)}addPendingRequest(e,t){this.pendingRequests.set(e,t);let a=setTimeout(()=>{this.pendingRequests.delete(e),this.requestTimeouts.delete(e)},3e4);return this.requestTimeouts.set(e,a),t}removePendingRequest(e){this.pendingRequests.delete(e);let t=this.requestTimeouts.get(e);t&&(clearTimeout(t),this.requestTimeouts.delete(e))}async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return await this.makeRequestInternal(e,t,a)}async makeRequestInternal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(g()){let e=Error("503 Service Unavailable: API is globally unavailable");throw e.statusCode=503,e.is503Error=!0,e}let s=this.getRequestKey(e,t);if(this.isRequestPending(s))return this.pendingRequests.get(s);if("/v0/health"!==e&&this.isGlobalRequestBlocked()){let t=Error("503 Service Unavailable: API is temporarily unavailable (global block)");throw t.statusCode=503,t.is503Error=!0,t.isGlobalBlock=!0,console.log("\uD83D\uDEAB [GLOBAL-BLOCK] Blocking request to ".concat(e," - global block active")),t}if("/v0/health"!==e&&this.isEndpointInCircuitBreaker(e)){let t=Error("503 Service Unavailable: ".concat(e," is temporarily unavailable (circuit breaker)"));throw t.statusCode=503,t.is503Error=!0,t.isCircuitBreaker=!0,console.log("\uD83D\uDD12 [CIRCUIT-BREAKER] Blocking request to ".concat(e," - in cooldown period")),t}if("/v0/health"!==e&&this.checkConsentMiddleware(),"/v0/health"!==e&&!await this.checkApiHealth()){this.activateGlobalRequestBlock(),this.addEndpointToCircuitBreaker(e);let t=Error("503 Service Unavailable: API health check failed");throw t.statusCode=503,t.is503Error=!0,t}let o=((e,t)=>{let a=e.replace(/\/+$/,""),s=t.startsWith("/")?t:"/".concat(t);return"".concat(a).concat(s)})(C.API_URL,e),n=this.executeRequestWithRetry(o,e,t,a),r=this.addPendingRequest(s,n);return r.finally(()=>{this.removePendingRequest(s)}),r}async executeRequestWithRetry(e,t,a,s){return this.shouldRetryEndpoint(t)?await E(async()=>await this.executeRequestWithDeduplication(e,t,a,s),"API Request: ".concat(t)):await this.executeRequestWithDeduplication(e,t,a,s)}shouldRetryEndpoint(e){return["/v0/health","/v0/locations","/v0/service-areas","/v0/services","/v0/supplies"].some(t=>e.includes(t))}async executeRequestWithDeduplication(e,t,a,s){this.trackApiCall(t);let o=((e,t)=>{let a=(null==t?void 0:t.method)||"GET",s=(null==t?void 0:t.body)?JSON.stringify(t.body):"";return"".concat(a,":").concat(e,":").concat(s)})(t,a);if(f.has(o))return this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDD04 Reusing pending request: ".concat(t)),f.get(o);(e=>{let t=Date.now();return t-(y.get(e)||0)<1e3||(y.set(e,t),!1)})(t)&&(this.isDevMode&&!C.REDUCE_LOGGING&&console.log("⏳ Throttling request to ".concat(t," (rate limited)")),await new Promise(e=>setTimeout(e,1e3)));let n=this.executeRequest(e,a,s);return f.set(o,n),n.finally(()=>{f.delete(o)}),n}async makePublicRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.makePublicRequestInternal(e,t)}async makePublicRequestInternal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g()){let e=Error("503 Service Unavailable: API is globally unavailable");throw e.statusCode=503,e.is503Error=!0,e}let a=this.getRequestKey(e,t);if(this.isRequestPending(a))return this.pendingRequests.get(a);if("/v0/health"!==e&&this.isGlobalRequestBlocked()){let t=Error("503 Service Unavailable: API is temporarily unavailable (global block)");throw t.statusCode=503,t.is503Error=!0,t.isGlobalBlock=!0,console.log("\uD83D\uDEAB [GLOBAL-BLOCK] Blocking public request to ".concat(e," - global block active")),t}if("/v0/health"!==e&&this.isEndpointInCircuitBreaker(e)){let t=Error("503 Service Unavailable: ".concat(e," is temporarily unavailable (circuit breaker)"));throw t.statusCode=503,t.is503Error=!0,t.isCircuitBreaker=!0,console.log("\uD83D\uDD12 [CIRCUIT-BREAKER] Blocking public request to ".concat(e," - in cooldown period")),t}if("/v0/health"!==e&&this.checkConsentMiddleware(),"/v0/health"!==e&&!await this.checkApiHealth()){this.activateGlobalRequestBlock(),this.addEndpointToCircuitBreaker(e);let t=Error("503 Service Unavailable: API health check failed");throw t.statusCode=503,t.is503Error=!0,t}let s=((e,t)=>{let a=e.replace(/\/+$/,""),s=t.startsWith("/")?t:"/".concat(t);return"".concat(a).concat(s)})(C.API_URL,e),o=this.executePublicRequest(s,t),n=this.addPendingRequest(a,o);return n.finally(()=>{this.removePendingRequest(a)}),n}async executeRequest(e,t,a){let s={"Content-Type":"application/json",Accept:"application/json","x-api-key":c()};if(this.isDevMode&&!C.REDUCE_LOGGING){let e=c();console.log("\uD83D\uDD11 API Key Configuration:",{hasApiKey:!!e,apiKeyLength:(null==e?void 0:e.length)||0,apiKeyPrefix:(null==e?void 0:e.substring(0,10))+"...",fullApiKey:e,headers:s})}a&&Object.assign(s,this.jwtAuth.getAuthHeaders());let o={method:"GET",headers:s,credentials:"include",...t},n=async e=>{this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83C\uDF10 API Request: ".concat(e));let t=console.error,a=console.warn,s=console.log;console.error=function(){for(var e,a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];let n=(null==(e=s[0])?void 0:e.toString())||"";n.includes("ERR_CONNECTION_REFUSED")||n.includes("Failed to fetch")||n.includes("net::ERR_CONNECTION_REFUSED")||n.includes("GET https://localhost:3000/v0/health net::ERR_CONNECTION_REFUSED")||n.includes("localhost:3000")||n.includes("ERR_NETWORK")||n.includes("ERR_INTERNET_DISCONNECTED")||t.apply(console,s)},console.warn=function(){for(var e,t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];let n=(null==(e=s[0])?void 0:e.toString())||"";n.includes("ERR_CONNECTION_REFUSED")||n.includes("Failed to fetch")||n.includes("net::ERR_CONNECTION_REFUSED")||n.includes("GET https://localhost:3000/v0/health net::ERR_CONNECTION_REFUSED")||n.includes("localhost:3000")||n.includes("ERR_NETWORK")||n.includes("ERR_INTERNET_DISCONNECTED")||a.apply(console,s)},console.log=function(){for(var e,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];let n=(null==(e=a[0])?void 0:e.toString())||"";n.includes("ERR_CONNECTION_REFUSED")||n.includes("Failed to fetch")||n.includes("net::ERR_CONNECTION_REFUSED")||n.includes("GET https://localhost:3000/v0/health net::ERR_CONNECTION_REFUSED")||n.includes("localhost:3000")||n.includes("ERR_NETWORK")||n.includes("ERR_INTERNET_DISCONNECTED")||s.apply(console,a)};try{let n=await fetch(e,o);return console.error=t,console.warn=a,console.log=s,n}catch(e){if(console.error=t,console.warn=a,console.log=s,e instanceof TypeError&&e.message.includes("Failed to fetch"))return new Response(JSON.stringify({error:!0,statusCode:503,message:"Service Unavailable: Connection failed",is503Error:!0,isConnectionError:!0}),{status:503,statusText:"Service Unavailable",headers:{"Content-Type":"application/json"}});throw e}};try{let t=await n(e);if(t.ok){let a=await t.json();return this.isDevMode&&!C.REDUCE_LOGGING&&console.log("✅ API Success (".concat(e,"):"),a),e.includes("/v0/locations")&&console.log("\uD83D\uDD27 Locations API response details:",{url:e,status:t.status,dataType:typeof a,hasLocations:!!(a&&a.locations),hasServiceTypes:!!(a&&a.serviceTypes),dataKeys:a?Object.keys(a):[]}),a}{if(503===t.status)return await t.json();let e=await this.handleErrorResponse(t);throw Error(e)}}catch(e){throw e}}async executePublicRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={"Content-Type":"application/json",Accept:"application/json","x-api-key":c()};if(this.isDevMode&&!C.REDUCE_LOGGING){let e=c();console.log("\uD83D\uDD11 Public API Key Configuration:",{hasApiKey:!!e,apiKeyLength:(null==e?void 0:e.length)||0,apiKeyPrefix:(null==e?void 0:e.substring(0,10))+"...",fullApiKey:e,headers:a})}let s={method:"GET",headers:a,credentials:"include",...t},o=async e=>{this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83C\uDF10 Public API Request: ".concat(e));let t=console.error,a=console.warn,o=console.log;console.error=function(){for(var e,a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];let n=(null==(e=s[0])?void 0:e.toString())||"";n.includes("ERR_CONNECTION_REFUSED")||n.includes("Failed to fetch")||n.includes("net::ERR_CONNECTION_REFUSED")||n.includes("GET https://localhost:3000/v0/health net::ERR_CONNECTION_REFUSED")||n.includes("localhost:3000")||n.includes("ERR_NETWORK")||n.includes("ERR_INTERNET_DISCONNECTED")||t.apply(console,s)},console.warn=function(){for(var e,t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];let n=(null==(e=s[0])?void 0:e.toString())||"";n.includes("ERR_CONNECTION_REFUSED")||n.includes("Failed to fetch")||n.includes("net::ERR_CONNECTION_REFUSED")||n.includes("GET https://localhost:3000/v0/health net::ERR_CONNECTION_REFUSED")||n.includes("localhost:3000")||n.includes("ERR_NETWORK")||n.includes("ERR_INTERNET_DISCONNECTED")||a.apply(console,s)},console.log=function(){for(var e,t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];let n=(null==(e=a[0])?void 0:e.toString())||"";n.includes("ERR_CONNECTION_REFUSED")||n.includes("Failed to fetch")||n.includes("net::ERR_CONNECTION_REFUSED")||n.includes("GET https://localhost:3000/v0/health net::ERR_CONNECTION_REFUSED")||n.includes("localhost:3000")||n.includes("ERR_NETWORK")||n.includes("ERR_INTERNET_DISCONNECTED")||o.apply(console,a)};try{let n=await fetch(e,s);return console.error=t,console.warn=a,console.log=o,n}catch(e){if(console.error=t,console.warn=a,console.log=o,e instanceof TypeError&&e.message.includes("Failed to fetch"))return new Response(JSON.stringify({error:!0,statusCode:503,message:"Service Unavailable: Connection failed",is503Error:!0,isConnectionError:!0}),{status:503,statusText:"Service Unavailable",headers:{"Content-Type":"application/json"}});throw e}};try{let t=await o(e);if(t.ok){let a=await t.json();return this.isDevMode&&!C.REDUCE_LOGGING&&console.log("✅ Public API Success (".concat(e,"):"),a),a}{if(503===t.status)return await t.json();let e=await this.handlePublicErrorResponse(t);throw Error(e)}}catch(e){throw e}}async handlePublicErrorResponse(e){try{let t=(await e.json()).message||e.statusText;if(503===e.status)return this.isDevMode&&!C.REDUCE_LOGGING&&console.warn("⚠️ Public API returned 503 - Service Unavailable"),"HTTP 503: ".concat(t);return"HTTP ".concat(e.status,": ").concat(t)}catch(t){return"HTTP ".concat(e.status,": ").concat(e.statusText)}}async handleErrorResponse(e){try{let t=(await e.json()).message||e.statusText;if(503===e.status){console.warn("⚠️ API returned 503 - Service Unavailable");let a=e.url.replace(C.API_URL,""),o=Error("HTTP 503: ".concat(t));return(0,s.hS)(o,a,{context:"APIsw Service",showModal:!1,logError:!0}),"Service temporarily unavailable (503): ".concat(t)}if(403===e.status)return this.isDevMode&&!C.REDUCE_LOGGING&&console.warn("\uD83D\uDD10 Authentication failed, redirecting to signin"),this.redirectToSignin(),"Authentication required: ".concat(t);if(429===e.status||t.includes("Too many requests"))return this.isDevMode&&!C.REDUCE_LOGGING&&console.warn("⚠️ Rate limited by backend. Consider enabling development API override."),"Rate limited: ".concat(t);return"HTTP ".concat(e.status,": ").concat(t)}catch(t){if(503===e.status){console.warn("⚠️ API returned 503 - Service Unavailable (no JSON response)");let t=e.url.replace(C.API_URL,""),a=Error("HTTP 503: ".concat(e.statusText));return(0,s.hS)(a,t,{context:"APIsw Service",showModal:!1,logError:!0}),"Service temporarily unavailable (503): ".concat(e.statusText)}return"HTTP ".concat(e.status,": ").concat(e.statusText)}}redirectToSignin(){try{let e=C.API_URL.replace("/api","/signin")||"https://localhost:3000/signin";e&&(console.log("\uD83D\uDD10 Redirecting to signin:",e),window.location.href=e)}catch(e){console.error("❌ Failed to redirect to signin:",e)}}async login(e,t){try{let a=await this.makeRequest(k.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,password:t})});if(a&&a.success&&a.token){let e=Date.now()+(a.expiresIn||36e5);this.jwtAuth.setToken({token:a.token,expiresAt:e,user:a.user}),this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDD10 Login successful, JWT token stored")}return a}catch(e){throw this.isDevMode&&!C.REDUCE_LOGGING&&console.error("\uD83D\uDD10 Login failed:",e),e}}async logout(){try{await this.makeRequest(k.AUTH.LOGOUT,{method:"POST"},!0)}catch(e){this.isDevMode&&!C.REDUCE_LOGGING&&console.warn("⚠️ Server logout failed, but clearing local data:",e)}finally{this.jwtAuth.clearToken()}}async checkAuthStatus(){let e=o.n.getCachedApiResponse(k.AUTH.STATUS);if(e)return console.log("✅ Using cached auth status data"),e;try{let e=await this.makeRequest(k.AUTH.STATUS,{},!0);return e&&(o.n.cacheApiResponse(k.AUTH.STATUS,e,12e4),console.log("\uD83D\uDCE6 Cached auth status data")),e}catch(e){return{success:!1,message:"Not authenticated"}}}async loadInitialData(){try{this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDE80 Loading initial data (batch request)...");let[e,t,a]=await Promise.allSettled([this.getNav(),this.getServices(),this.checkAuthStatus()]),s={nav:"fulfilled"===e.status?e.value:null,services:"fulfilled"===t.status?t.value:null,authStatus:"fulfilled"===a.status?a.value:null};return this.isDevMode&&!C.REDUCE_LOGGING&&console.log("✅ Initial data loaded:",{nav:!!s.nav,services:!!s.services,authStatus:!!s.authStatus}),s}catch(e){throw this.isDevMode&&!C.REDUCE_LOGGING&&console.error("❌ Failed to load initial data:",e),e}}async getNav(){let e=o.n.getCachedApiResponse(k.PRIVATE.NAV);if(e)return console.log("✅ Using cached navigation data"),e;let t=await this.makeRequest(k.PRIVATE.NAV);return t&&(o.n.cacheApiResponse(k.PRIVATE.NAV,t,6e5),console.log("\uD83D\uDCE6 Cached navigation data")),t}async getServices(){let e=o.n.getCachedApiResponse(k.PUBLIC.SERVICES);if(e)return e;let t=await this.makeRequest(k.PUBLIC.SERVICES);return t&&o.n.cacheApiResponse(k.PUBLIC.SERVICES,t,6e5),t}async checkHealth(){let e=o.n.getCachedApiResponse("/v0/health");if(e)return e;try{let e=await E(async()=>await this.makeRequest("/v0/health"),"Health Check");return e&&o.n.cacheApiResponse("/v0/health",e,3e4),e}catch(t){let e=function(e,t){if(r(e))return e;if(n(e)){let a=Error("503 Service Unavailable: Connection failed for ".concat(t));return a.statusCode=503,a.is503Error=!0,a.isConnectionError=!0,e&&(a.originalError=e,a.originalMessage=e instanceof Error?e.message:String(e)),a}if(function(e){if(!(e instanceof Error))return!1;let t=e.message.toLowerCase();return t.includes("500")||t.includes("501")||t.includes("502")||t.includes("503")||t.includes("504")||t.includes("505")}(e))return i(t,e);if(e instanceof Error){let a=e.message.toLowerCase();if(a.includes("api")||a.includes("request")||a.includes("response")||a.includes("http"))return i(t,e)}return e}(t,"/v0/health");if(r(e))return m(!0),{error:!0,statusCode:503,message:e.message,is503Error:!0,isConnectionError:(null==e?void 0:e.isConnectionError)||!1};throw t}}async getReferral(){return await this.makeRequest(k.PUBLIC.REFERRAL)}async getBlog(){return await this.makeRequest(k.PUBLIC.BLOG)}async getReviews(){return await this.makeRequest(k.PUBLIC.REVIEWS)}async getLocations(){var e,t;let a=o.n.getCachedApiResponse(k.PUBLIC.LOCATIONS);if(a)return console.log("✅ Using cached locations data"),a;console.log("\uD83D\uDD27 APIsw.getLocations() called - fetching from:",k.PUBLIC.LOCATIONS);let s=await this.makeRequest(k.PUBLIC.LOCATIONS);return s&&(o.n.cacheApiResponse(k.PUBLIC.LOCATIONS,s,9e5),console.log("\uD83D\uDCE6 Cached locations data")),console.log("\uD83D\uDD27 APIsw.getLocations() response:",{hasData:!!s,hasLocations:!!(s&&s.locations),hasServiceTypes:!!(s&&s.serviceTypes),locationsCount:(null==s||null==(e=s.locations)?void 0:e.length)||0,serviceTypesCount:(null==s||null==(t=s.serviceTypes)?void 0:t.length)||0}),s}async getSupplies(){var e,t;let a=o.n.getCachedApiResponse(k.PUBLIC.SUPPLIES);if(a)return console.log("✅ Using cached supplies data"),a;console.log("\uD83D\uDD27 APIsw.getSupplies() called - fetching from:",k.PUBLIC.SUPPLIES);let s=await this.makeRequest(k.PUBLIC.SUPPLIES);return s&&(o.n.cacheApiResponse(k.PUBLIC.SUPPLIES,s,6e5),console.log("\uD83D\uDCE6 Cached supplies data")),console.log("\uD83D\uDD27 APIsw.getSupplies() response:",{hasData:!!s,hasSupplies:!!(s&&s.supplies),suppliesCount:(null==s||null==(e=s.supplies)?void 0:e.length)||0,firstSupplyStructure:null==s||null==(t=s.supplies)?void 0:t[0]}),s}async getServiceAreas(){return await this.makePublicRequest(k.PUBLIC.SERVICE_AREAS)}async getAbout(){return await this.makeRequest(k.PUBLIC.ABOUT)}async getContact(){return await this.makeRequest(k.PUBLIC.CONTACT)}async getPrivateNav(){return await this.makeRequest(k.PRIVATE.NAV,{},!0)}async getPrivateServices(){return await this.makeRequest(k.PRIVATE.SERVICES,{},!0)}async getPrivateLocations(){return await this.makeRequest(k.PRIVATE.LOCATIONS,{},!0)}async getPrivateSupplies(){return await this.makeRequest(k.PRIVATE.SUPPLIES,{},!0)}async getPrivateReviews(){return await this.makeRequest(k.PRIVATE.REVIEWS,{},!0)}async getPrivateTestimonials(){return await this.makeRequest(k.PRIVATE.TESTIMONIALS,{},!0)}async getPrivateAbout(){return await this.makeRequest(k.PRIVATE.ABOUT,{},!0)}async getPrivateContact(){return await this.makeRequest(k.PRIVATE.CONTACT,{},!0)}async getPrivateReferral(){return await this.makeRequest(k.PRIVATE.REFERRAL,{},!0)}async getPrivateBlog(){return await this.makeRequest(k.PRIVATE.BLOG,{},!0)}async getHomePageData(){console.log("\uD83D\uDE80 Loading consolidated home page data...");let e=["/v0/services","/v0/recentMoves","/v0/testimonials","/v0/nav","/auth/status"],[t,a,s,o,n]=await Promise.allSettled([this.makeRequest(k.PRIVATE.SERVICES),this.makeRequest("/v0/recentMoves"),this.makeRequest(k.PRIVATE.TESTIMONIALS),this.makeRequest(k.PRIVATE.NAV),this.checkAuthStatus()]),r={services:"fulfilled"===t.status?t.value:null,recentMoves:"fulfilled"===a.status?a.value:null,testimonials:"fulfilled"===s.status?s.value:null,nav:"fulfilled"===o.status?o.value:null,authStatus:"fulfilled"===n.status?n.value:null},i=[],l=[];if("rejected"===t.status&&(i.push("/v0/services"),l.push(t.reason)),"rejected"===a.status&&(i.push("/v0/recentMoves"),l.push(a.reason)),"rejected"===s.status&&(i.push("/v0/testimonials"),l.push(s.reason)),"rejected"===o.status&&(i.push("/v0/nav"),l.push(o.reason)),"rejected"===n.status&&(i.push("/auth/status"),l.push(n.reason)),i.length>0){let t=l[0],a="Home page API failed - attempted endpoints: ".concat(e.join(", "),", failed: ").concat(i.join(", "));console.error("❌ Consolidated home page data failed:",{attemptedEndpoints:e,failedEndpoints:i,primaryError:(null==t?void 0:t.message)||"Unknown error"});let s=Error(a);throw s.failedEndpoints=i,s.attemptedEndpoints=e,s.primaryError=t,s}return console.log("✅ Consolidated home page data loaded:",{services:!!r.services,recentMoves:!!r.recentMoves,testimonials:!!r.testimonials,nav:!!r.nav,authStatus:!!r.authStatus}),r}async getAboutPageData(){try{console.log("\uD83D\uDE80 Loading consolidated about page data...");let[e,t]=await Promise.allSettled([this.makeRequest(k.PRIVATE.ABOUT),this.makeRequest("/v0/recentMoves/total")]),a={about:"fulfilled"===e.status?e.value:null,totalMovesCount:"fulfilled"===t.status?t.value:500};return console.log("✅ Consolidated about page data loaded:",{about:!!a.about,totalMovesCount:a.totalMovesCount}),a}catch(e){throw console.error("❌ Failed to load consolidated about page data:",e),e}}async getContactPageData(){try{console.log("\uD83D\uDE80 Loading consolidated contact page data...");let e={contact:await this.makeRequest(k.PRIVATE.CONTACT)};return console.log("✅ Consolidated contact page data loaded:",{contact:!!e.contact}),e}catch(e){throw console.error("❌ Failed to load consolidated contact page data:",e),e}}showApiFailureModal(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,s=Array.from(new Set(e));this.modalState={isVisible:!0,failedEndpoints:s,is503Error:t,onClose:a||null},this.notifyModalStateListeners(),this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDD27 APIsw: Showing API failure modal:",{originalFailedEndpoints:e,uniqueEndpoints:s,is503Error:t,hasOnClose:!!a,currentPage:this.currentPageName,allTrackedCalls:this.getTrackedApiCalls()})}hideApiFailureModal(){this.modalState={isVisible:!1,failedEndpoints:[],is503Error:!1,onClose:null},this.notifyModalStateListeners(),this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDD27 APIsw: Hiding API failure modal")}getModalState(){return{...this.modalState}}getApiFailureModalProps(){return{isVisible:this.modalState.isVisible,onClose:()=>{this.hideApiFailureModal(),this.modalState.onClose&&this.modalState.onClose()},failedEndpoints:this.modalState.failedEndpoints,is503Error:this.modalState.is503Error}}addModalStateListener(e){this.modalStateListeners.add(e)}removeModalStateListener(e){this.modalStateListeners.delete(e)}notifyModalStateListeners(){this.modalStateListeners.forEach(e=>{try{e()}catch(e){console.error("Error in modal state listener:",e)}})}startPageTracking(e){this.currentPageName!==e&&(this.currentPageName=e,this.pageApiCalls=[])}trackApiCall(e){this.pageApiCalls.includes(e)||this.pageApiCalls.push(e)}getTrackedApiCalls(){return Array.from(this.pageApiCalls)}getCurrentPageName(){return this.currentPageName}resetApiCallTracking(){this.pageApiCalls=[],this.currentPageName="",console.log("\uD83D\uDD27 [API-TRACKING] Reset API call tracking")}async checkHealthWithCache(){let e=Date.now();if("unknown"!==this.healthStatus&&e-this.healthCheckTime<this.HEALTH_CHECK_CACHE_DURATION)return"healthy"===this.healthStatus;try{return console.log("\uD83C\uDFE5 [HEALTH-MIDDLEWARE] Checking API health status..."),await this.checkHealth(),this.healthStatus="healthy",this.healthCheckTime=e,console.log("✅ [HEALTH-MIDDLEWARE] Health check passed"),!0}catch(t){return console.error("❌ [HEALTH-MIDDLEWARE] Health check failed:",t),this.healthStatus="unhealthy",this.healthCheckTime=e,this.trackApiCall("/v0/health"),!1}}async healthCheckMiddleware(e,t,a){let s=e.url||e.path||"/unknown";if(!await this.checkHealthWithCache()){console.log("\uD83D\uDEA8 [HEALTH-MIDDLEWARE] Health check failed, recording all routes as 503");let e=this.getTrackedApiCalls();console.log("\uD83D\uDD27 [HEALTH-MIDDLEWARE] All tracked routes:",e);let o=["/v0/health",...e];console.log("\uD83D\uDD27 [HEALTH-MIDDLEWARE] All failed routes for modal:",o),this.showApiFailureModal(o,!0),t.statusCode=503,t.status=503,t.error=Error("Service Unavailable (503): Health check failed for ".concat(s)),a(Error("Service Unavailable (503): Health check failed for ".concat(s)));return}a()}preTrackRoutesMiddleware(e){e.forEach(e=>{this.trackApiCall(e)})}async withHealthCheck(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!await this.checkHealthWithCache()){console.log("\uD83D\uDEA8 [HEALTH-MIDDLEWARE] Health check failed, recording all routes as 503"),a.forEach(e=>{this.pageApiCalls.includes(e)||this.trackApiCall(e)});let t=["/v0/health",...a];throw this.showApiFailureModal(t,!0),Error("Service Unavailable (503): Health check failed for ".concat(e))}try{return await t()}catch(t){throw console.error("❌ [HEALTH-MIDDLEWARE] API call failed for ".concat(e,":"),t),t}}async testConnection(){try{let e=await this.checkHealth();return{success:!0,data:e,apiUrl:C.API_URL,skipBackendCheck:C.SKIP_BACKEND_CHECK}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",apiUrl:C.API_URL,skipBackendCheck:C.SKIP_BACKEND_CHECK}}}getConfig(){return{apiUrl:C.API_URL,devMode:this.isDevMode,skipBackendCheck:C.SKIP_BACKEND_CHECK,isAuthenticated:this.jwtAuth.isAuthenticated(),hasToken:!!this.jwtAuth.getToken(),appName:C.APP_NAME,appVersion:C.APP_VERSION,enableDevTools:C.ENABLE_DEV_TOOLS,reduceLogging:C.REDUCE_LOGGING,apiTimeout:C.API_TIMEOUT,cacheEnabled:C.CACHE_ENABLED,cacheTtl:C.CACHE_TTL,cacheMaxSize:C.CACHE_MAX_SIZE}}isAuthenticated(){return this.jwtAuth.isAuthenticated()}getUser(){return this.jwtAuth.getUser()}getAuthHeaders(){return this.jwtAuth.getAuthHeaders()}constructor(){this.modalState={isVisible:!1,failedEndpoints:[],is503Error:!1,onClose:null},this.modalStateListeners=new Set,this.pageApiCalls=[],this.currentPageName="",this.isApiBlocked=!1,this.apiIsDown=!1,this.healthCheckInProgress=!1,this.lastHealthCheckTime=0,this.healthCheckCooldown=3e4,this.failedEndpoints=new Set,this.endpointFailureTimes=new Map,this.endpointCooldown=6e4,this.globalRequestBlocked=!1,this.globalBlockTime=0,this.globalBlockCooldown=3e4,this.pendingRequests=new Map,this.requestTimeouts=new Map,this.healthStatus="unknown",this.healthCheckTime=0,this.HEALTH_CHECK_CACHE_DURATION=3e4,this.jwtAuth=N.getInstance(),this.isDevMode="development"===C.DEV_MODE,this.isDevMode&&!C.REDUCE_LOGGING&&console.log("\uD83D\uDD27 APIsw initialized with config:",{API_URL:C.API_URL,SKIP_BACKEND_CHECK:C.SKIP_BACKEND_CHECK,DEV_MODE:C.DEV_MODE,PORT:C.PORT,IS_SSR:C.IS_SSR,MODE:C.MODE,ENABLE_DEV_TOOLS:C.ENABLE_DEV_TOOLS,API_TIMEOUT:C.API_TIMEOUT,CACHE_ENABLED:C.CACHE_ENABLED})}}let T=A.getInstance(),S=(e,t)=>T.login(e,t),R=()=>T.logout(),j=()=>T.checkAuthStatus(),I=()=>T.getNav(),D=()=>T.getServices(),P=()=>T.checkHealth(),L=()=>T.getReferral(),_=()=>T.getBlog(),O=()=>T.getReviews(),M=()=>T.getLocations(),U=()=>T.getSupplies(),B=()=>T.getAbout(),H=()=>T.getContact(),G=()=>T.testConnection(),V=()=>T.getConfig(),F=()=>T.isAuthenticated(),q=()=>T.getUser(),z=()=>T.getAuthHeaders(),K=()=>T.getHomePageData(),W=()=>T.getAboutPageData(),$=()=>T.getContactPageData(),J=()=>T.getApiFailureModalProps(),Y=e=>T.addModalStateListener(e),Z=e=>T.removeModalStateListener(e),Q=e=>T.startPageTracking(e),X=e=>T.trackApiCall(e),ee=()=>T.getTrackedApiCalls(),et=()=>T.getCurrentPageName(),ea=()=>T.resetApiCallTracking(),es=()=>T.checkHealthWithCache(),eo=(e,t,a)=>T.withHealthCheck(e,t,a),en=(e,t,a)=>T.healthCheckMiddleware(e,t,a),er=e=>T.preTrackRoutesMiddleware(e),ei=e=>T.setApiBlocked(e),el=()=>T.getApiBlocked(),ec=()=>T.checkConsentMiddleware(),ed=(e,t)=>T.consentAwareMiddleware(e,t),eu=()=>T.resetHealthGate()},7978:(e,t,a)=>{a.d(t,{Ap:()=>r,GI:()=>i,hS:()=>n}),a(2115);class s{addFailedEndpoint(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.failedEndpoints.add(e),t&&(this.is503Error=!0)}setModalShown(e){this.modalShown=e}isModalShown(){return this.modalShown}getFailedEndpoints(){return Array.from(this.failedEndpoints)}is503ErrorOccurred(){return this.is503Error}clear(){this.failedEndpoints.clear(),this.is503Error=!1,this.modalShown=!1}hasFailures(){return this.failedEndpoints.size>0}constructor(){this.failedEndpoints=new Set,this.is503Error=!1,this.modalShown=!1}}let o=new s;function n(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{showModal:s=!0,logError:n=!0,context:r="API Call"}=a,i=e instanceof Error?e.message:"Unknown error",l=i.includes("503")||i.includes("Service Unavailable")||i.includes("Failed to fetch")||i.includes("ERR_CONNECTION_REFUSED")||i.includes("ECONNREFUSED")||(null==e?void 0:e.statusCode)===503||(null==e?void 0:e.is503Error)===!0;o.addFailedEndpoint(t,l);let c=(null==e?void 0:e.failedEndpoints)||[];null==e||e.attemptedEndpoints;let d=null==e?void 0:e.primaryError,u={endpoint:c.length>0?c.join(", "):t,error:c.length>0?"Failed APIs: ".concat(c.join(", "),"\nPrimary: ").concat(c[0]||t,"\n\n").concat((null==d?void 0:d.message)||i):i,timestamp:Date.now(),context:r,is503Error:l,failedEndpoints:c.length>0?c:o.getFailedEndpoints()};n&&console.error("\uD83D\uDD27 ".concat(r," Error for ").concat(t,":"),e);let h=function(){try{let e=localStorage.getItem("packmovego-cookie-preferences");if(e){let t=JSON.parse(e);return!0===t.hasMadeChoice&&!1===t.hasOptedOut}return!1}catch(e){return console.warn("\uD83D\uDD27 Error checking cookie consent:",e),!1}}();if(s&&h&&!o.isModalShown()){o.setModalShown(!0),sessionStorage.setItem("api-failed-after-consent","true");let e=new CustomEvent("api-failed-after-consent",{detail:u});window.dispatchEvent(e)}else if(s&&h&&o.isModalShown());else if(s&&!h){let e="api-error-".concat(t,"-").concat(Date.now());sessionStorage.setItem(e,JSON.stringify(u)),sessionStorage.setItem("pending-api-errors","true")}}function r(){return o.getFailedEndpoints()}function i(){return o.is503ErrorOccurred()}},8487:(e,t,a)=>{a.d(t,{n:()=>i});let s=new Map,o={maxSize:200,defaultTTL:6e5,version:"0.0",compressionThreshold:512,adaptiveTTL:!0},n={COOKIE_CONSENT:"cookie-consent-status",API_RESPONSES:"api-responses",BANNER_TIMER:"banner-timer",USER_PREFERENCES:"user-preferences"};class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}get(e){let t=performance.now(),a=s.get(e);return a?Date.now()-a.timestamp>a.ttl||a.version!==o.version?(s.delete(e),this.cacheMisses++,this.updateResponseTime(performance.now()-t),null):(a.accessCount++,a.lastAccessed=Date.now(),o.adaptiveTTL&&this.applyAdaptiveTTL(a),this.cacheHits++,this.updateResponseTime(performance.now()-t),a.data):(this.cacheMisses++,this.updateResponseTime(performance.now()-t),null)}set(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.defaultTTL;this.cleanup();let n=JSON.stringify(t),r=new Blob([n]).size,i=t;if(r>o.compressionThreshold)try{let e=this.compressData(n);if(e.length<n.length){i=e;let t=new Blob([e]).size;this.compressionSavings+=r-t,r=t}}catch(t){console.warn("Compression failed for cache entry:",e)}this.totalUncompressedSize+=new Blob([JSON.stringify(t)]).size,s.size>=o.maxSize&&this.evictOldest();let l={data:i,timestamp:Date.now(),ttl:a,version:o.version,accessCount:0,lastAccessed:Date.now(),size:r};s.set(e,l)}compressData(e){if(e.length<100)return e;let t="",a=1,s=e[0];for(let o=1;o<e.length;o++)e[o]===s?a++:(a>3?t+="".concat(a).concat(s):t+=s.repeat(a),s=e[o],a=1);return a>3?t+="".concat(a).concat(s):t+=s.repeat(a),t.length<e.length?t:e}decompressData(e){if("string"!=typeof e)return e;try{let t="",a=0;for(;a<e.length;)if(/\d/.test(e[a])){let s="";for(;a<e.length&&/\d/.test(e[a]);)s+=e[a],a++;a<e.length&&(t+=e[a].repeat(parseInt(s)),a++)}else t+=e[a],a++;return JSON.parse(t)}catch(t){return e}}applyAdaptiveTTL(e){let t=Date.now()-e.timestamp;if(e.accessCount/Math.max(t/1e3,1)>.1){let t=Math.min(1.5*e.ttl,18e5);t>e.ttl&&(e.ttl=t,this.adaptiveTTLAdjustments++)}}evictOldest(){let e=Array.from(s.entries());e.forEach(e=>{let[,t]=e,a=Date.now()-t.timestamp,s=t.accessCount/Math.max(a/1e3,1),o=1/(Date.now()-t.lastAccessed+1),n=t.size/1024;t.evictionScore=.4*s+.4*o-.2*n}),e.sort((e,t)=>(e[1].evictionScore||0)-(t[1].evictionScore||0));let t=Math.ceil(.2*o.maxSize);for(let a=0;a<t&&a<e.length;a++)s.delete(e[a][0])}updateResponseTime(e){this.totalResponseTime+=e,this.responseCount++}getStats(){let e=this.cacheHits+this.cacheMisses,t=e>0?this.cacheHits/e*100:0,a=this.responseCount>0?this.totalResponseTime/this.responseCount:0,o=0;for(let e of s.values())o+=e.size;let n=this.totalUncompressedSize>0?(this.totalUncompressedSize-o)/this.totalUncompressedSize*100:0;return{totalRequests:e,hits:this.cacheHits,misses:this.cacheMisses,hitRate:t,averageResponseTime:a,memoryUsage:o,compressionRatio:n,adaptiveTTLAdjustments:this.adaptiveTTLAdjustments}}getPerformanceReport(){let e=this.getStats(),t=Math.floor((Date.now()-this.cacheStartTime)/1e3);return"\n\uD83D\uDCCA Cache Performance Report\n==========================\n⏱️  Uptime: ".concat(t,"s\n\uD83D\uDCE6 Size: ").concat(s.size,"/").concat(o.maxSize," items\n\uD83C\uDFAF Hit Rate: ").concat(e.hitRate.toFixed(1),"%\n⚡ Avg Response Time: ").concat(e.averageResponseTime.toFixed(2),"ms\n\uD83D\uDCBE Memory Usage: ").concat((e.memoryUsage/1024).toFixed(1),"KB\n\uD83D\uDDDC️  Compression Savings: ").concat(e.compressionRatio.toFixed(1),"%\n\uD83D\uDD04 Adaptive TTL Adjustments: ").concat(e.adaptiveTTLAdjustments,"\n\uD83D\uDCC8 Total Requests: ").concat(e.totalRequests,"\n✅ Hits: ").concat(e.hits,"\n❌ Misses: ").concat(e.misses,"\n    ").trim()}resetStats(){this.cacheHits=0,this.cacheMisses=0,this.cacheStartTime=Date.now(),this.totalResponseTime=0,this.responseCount=0,this.adaptiveTTLAdjustments=0,this.compressionSavings=0,this.totalUncompressedSize=0}cacheApiResponse(e,t,a){let s="".concat(n.API_RESPONSES,":").concat(e);this.set(s,t,a)}getCachedApiResponse(e){let t="".concat(n.API_RESPONSES,":").concat(e),a=this.get(t);return a?this.decompressData(a):null}cacheCookieConsent(e){this.set(n.COOKIE_CONSENT,e,3e4)}getCachedCookieConsent(){return this.get(n.COOKIE_CONSENT)}cacheBannerTimer(e){this.set(n.BANNER_TIMER,e,1e3)}getCachedBannerTimer(){return this.get(n.BANNER_TIMER)}cacheUserPreferences(e){this.set(n.USER_PREFERENCES,e,6e5)}getCachedUserPreferences(){return this.get(n.USER_PREFERENCES)}invalidateApiCache(){for(let[e]of s.entries())e.startsWith("".concat(n.API_RESPONSES,":"))&&s.delete(e)}invalidateApiEndpoint(e){let t="".concat(n.API_RESPONSES,":").concat(e);s.delete(t)}delete(e){return s.delete(e)}clear(){s.clear(),this.cacheHits=0,this.cacheMisses=0,this.totalResponseTime=0,this.responseCount=0,this.adaptiveTTLAdjustments=0,this.compressionSavings=0,this.totalUncompressedSize=0,this.cacheStartTime=Date.now()}clearOnOffline(){"undefined"==typeof navigator||navigator.onLine||(console.log("\uD83D\uDD04 Going offline - clearing API cache"),this.clear())}isOnline(){return"undefined"==typeof navigator||navigator.onLine}forceClear(){console.log("\uD83D\uDD04 Manually clearing API cache"),this.clear()}cleanup(){let e=Date.now();for(let[t,a]of s.entries())e-a.timestamp>a.ttl&&s.delete(t)}constructor(){this.cacheHits=0,this.cacheMisses=0,this.cacheStartTime=Date.now(),this.totalResponseTime=0,this.responseCount=0,this.adaptiveTTLAdjustments=0,this.compressionSavings=0,this.totalUncompressedSize=0}}let i=r.getInstance();Date.now()},8526:(e,t,a)=>{a.d(t,{A:()=>p});var s=a(5155),o=a(2115),n=a(7857);a(7978);let r=async()=>{try{let e=await n.api.getServices();if(e&&e.services&&Array.isArray(e.services))return e.services.map(e=>({id:e.id||"",name:e.name||e.title||"Service",description:e.description||e.shortDescription||"",icon:e.icon||"\uD83D\uDCE6",isAvailable:!1!==e.isAvailable}));return[]}catch(e){if(e instanceof Error&&e.message.includes("cookie consent"))return[];throw console.error("Footer services error:",e),e}},i=async()=>({phone:"(949) 414-5282",email:"info@packmovego.com",address:"1369 Adams Ave, Costa Mesa, 92626",website:"https://packmovego.com"}),l=async()=>[{platform:"X (Twitter)",url:"#",icon:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"},{platform:"Facebook",url:"#",icon:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"},{platform:"LinkedIn",url:"#",icon:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},{platform:"Reddit",url:"#",icon:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"},{platform:"Instagram",url:"#",icon:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"}],c=async()=>[{title:"About Us",url:"/about"},{title:"Privacy Policy",url:"/privacy"},{title:"Terms of Service",url:"/terms"}],d=async()=>{try{let[e,t,a,s]=await Promise.all([r(),i(),l(),c()]);return{services:e,contactInfo:t,socialLinks:a,quickLinks:s,copyright:{year:new Date().getFullYear(),companyName:"Pack Move Go",rightsText:"All rights reserved"}}}catch(e){if(e instanceof Error&&e.message.includes("cookie consent"))return{services:[],contactInfo:{phone:"(949) 414-5282",email:"info@packmovego.com",address:"1369 Adams Ave, Costa Mesa, 92626",website:"https://packmovego.com"},socialLinks:[],quickLinks:[{title:"About Us",url:"/about"},{title:"Privacy Policy",url:"/privacy"},{title:"Terms of Service",url:"/terms"}],copyright:{year:new Date().getFullYear(),companyName:"Pack Move Go",rightsText:"All rights reserved"}};return console.error("Footer data error:",e),{services:[],contactInfo:{phone:"(949) 414-5282",email:"info@packmovego.com",address:"1369 Adams Ave, Costa Mesa, 92626",website:"https://packmovego.com"},socialLinks:[],quickLinks:[{title:"About Us",url:"/about"},{title:"Privacy Policy",url:"/privacy"},{title:"Terms of Service",url:"/terms"}],copyright:{year:new Date().getFullYear(),companyName:"Pack Move Go",rightsText:"All rights reserved"}}}},u=200,h=async()=>{try{return await n.api.checkHealth(),u=200}catch(t){console.error("Health check failed:",t);let e=503;return t instanceof Error&&(t.message.includes("503")||t.message.includes("Service Unavailable")?e=503:t.message.includes("500")?e=500:t.message.includes("502")?e=502:t.message.includes("504")&&(e=504)),u=e,e>=500&&console.log("\uD83D\uDEA8 Health check failed with status ".concat(e,", modal will be handled by main page")),u}},m=()=>{let[e,t]=(0,o.useState)(null),[a,n]=(0,o.useState)(!0),[r,i]=(0,o.useState)(200);return((0,o.useEffect)(()=>{(async()=>{try{n(!0),i(200);let e=await h();i(e);let a=await d();t(a)}catch(e){console.error("Error loading footer data:",e),i(503)}finally{n(!1)}})()},[]),a)?(0,s.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-gray-300",children:"Loading..."})})})}):(0,s.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Pack Move Go"}),(0,s.jsx)("p",{className:"text-gray-300 mb-4",children:"Professional moving and packing services for a stress-free relocation experience."}),(0,s.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,s.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,s.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,s.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),(0,s.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})})}),(0,s.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Services"}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:503===r?(0,s.jsx)("p",{className:"text-red-500 font-bold",children:"503"}):r>=500?(0,s.jsx)("p",{className:"text-red-500 font-bold",children:r}):(0,s.jsx)("p",{children:(null==e?void 0:e.services.length)||0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Quick Links"}),(0,s.jsx)("ul",{className:"space-y-2 text-gray-300 text-center",children:null==e?void 0:e.quickLinks.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:e.url,className:"hover:text-white",children:e.title})},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Contact Info"}),(0,s.jsxs)("div",{className:"space-y-2 text-gray-300 text-center",children:[(0,s.jsxs)("p",{children:["\uD83D\uDCDE ",(null==e?void 0:e.contactInfo.phone)||"(949) 414-5282"]}),(0,s.jsxs)("p",{children:["✉️ ",(null==e?void 0:e.contactInfo.email)||"info@packmovego.com"]}),(0,s.jsxs)("p",{children:["\uD83D\uDCCD ",(null==e?void 0:e.contactInfo.address)||"1369 Adams Ave, Costa Mesa, 92626"]})]})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-300",children:[(0,s.jsxs)("p",{children:["\xa9 ",(null==e?void 0:e.copyright.year)||new Date().getFullYear()," ",(null==e?void 0:e.copyright.companyName)||"Pack Move Go"]}),(0,s.jsxs)("p",{children:["\xae ",(null==e?void 0:e.copyright.rightsText)||"All rights reserved"]}),(0,s.jsxs)("div",{className:"mt-2 space-x-4",children:[(0,s.jsx)("a",{href:"/terms",className:"hover:text-white",children:"terms"}),(0,s.jsx)("span",{children:"|"}),(0,s.jsx)("a",{href:"/privacy",className:"hover:text-white",children:"privacy"})]})]})]})})};m.displayName="Footer";let p=m},9325:(e,t,a)=>{a.d(t,{A:()=>s}),a(2115);let s=()=>null},9599:(e,t,a)=>{a.d(t,{n5:()=>d,Ay:()=>h});var s=a(5155),o=a(2115),n=a(2335),r=a(5953),i=a(7857),l=a(7978);let c=async()=>{try{var e;console.log("\uD83D\uDD27 Fetching main navigation from public API...");let t=(null==(e=(await i.api.makeRequest("/v0/nav")).mainNav)?void 0:e.map(e=>{var t;return{id:e.id||e._id||"nav-".concat(Math.random().toString(36).substr(2,9)),path:e.path||e.href||"/",label:e.label||e.title||e.text||"Unknown",order:e.order||0,isVisible:!1!==e.isVisible,children:(null==(t=e.children)?void 0:t.map(e=>({id:e.id||e._id||"nav-child-".concat(Math.random().toString(36).substr(2,9)),path:e.path||e.href||"/",label:e.label||e.title||e.text||"Unknown",order:e.order||0,isVisible:!1!==e.isVisible})))||[]}}))||[];return console.log("✅ Main navigation loaded:",t.length),t}catch(e){if(console.error("❌ Failed to fetch main navigation:",e),e instanceof Error&&e.message.includes("503"))throw console.warn("⚠️ Navigation API returned 503 - Service Unavailable"),(0,l.hS)(e,"/v0/nav",{context:"Navigation API",showModal:!1,logError:!0}),Error("Navigation temporarily unavailable (503)");return(0,l.hS)(e,"/v0/nav",{context:"Navigation API",showModal:!1,logError:!0}),[{id:"home",path:"/",label:"Home",order:1,isVisible:!0},{id:"about",path:"/about",label:"About",order:2,isVisible:!0},{id:"contact",path:"/contact",label:"Contact",order:3,isVisible:!0}]}},d=()=>(0,s.jsx)("nav",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("a",{href:"/",className:"text-xl font-bold text-gray-900",children:"Pack Move Go"})})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("a",{href:"/",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Home"}),(0,s.jsx)("a",{href:"/about",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"About"}),(0,s.jsx)("a",{href:"/contact",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Contact"})]})]})})}),u=e=>{let{hasConsent:t,isWaitingForConsent:a,isApiBlocked:l}=e,d=(0,n.zy)(),u=(0,n.Zp)(),[h,m]=(0,o.useState)([]),[p,g]=(0,o.useState)(!0),[v,x]=(0,o.useState)(null),[f,y]=(0,o.useState)(!1),[b,E]=(0,o.useState)(!1),w=(0,o.useRef)(null),C=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(l)return void g(!0);let e=sessionStorage.getItem("packmovego-nav-data");if(e)try{let t=JSON.parse(e),a=Date.now();if(t.timestamp&&a-t.timestamp<3e5){m(t.items),g(!1);return}}catch(e){console.warn("Invalid cached navigation data, fetching fresh data")}(async()=>{try{g(!0),x(null),(0,i.resetHealthGate)(),await new Promise(e=>setTimeout(e,100));let e=await c();m(e);try{sessionStorage.setItem("packmovego-nav-data",JSON.stringify({items:e,timestamp:Date.now()}))}catch(e){console.warn("Failed to cache navigation data:",e)}}catch(t){let e=t instanceof Error?t.message:"Failed to load navigation";if(x(e),e.includes("429")||e.includes("Too many requests")){console.warn("Rate limited, using fallback navigation");let e=sessionStorage.getItem("packmovego-nav-data");if(e)try{let t=JSON.parse(e);m(t.items),g(!1);return}catch(e){}}m([{id:"home",path:"/",label:"Home",order:1,isVisible:!0},{id:"about",path:"/about",label:"About",order:2,isVisible:!0},{id:"contact",path:"/contact",label:"Contact",order:4,isVisible:!0}])}finally{g(!1)}})()},[l,d.pathname]),(0,o.useEffect)(()=>{y(!1)},[d.pathname]),(0,o.useEffect)(()=>{let e="development"===(void 0).VITE_DEV_MODE;v&&e&&console.error("Navigation error:",v)},[v]),(0,o.useEffect)(()=>{let e=()=>{E(window.innerWidth<975)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[h]),(0,o.useEffect)(()=>(f?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[f]);let N=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),y(!f)},[f]),k=(0,o.useCallback)((e,t)=>{e.preventDefault(),u(t),y(!1)},[u]),A=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),y(!1)},[]),T=(0,o.useCallback)(e=>{e.preventDefault(),u("/")},[u]),S=(0,o.useMemo)(()=>h.filter(e=>!1!==e.isVisible),[h]);return a?(0,s.jsx)("div",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Pack Move Go"})})}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Loading navigation..."})]})]})})}):l?(0,s.jsx)("nav",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("a",{href:"/",className:"text-xl font-bold text-gray-900",children:"Pack Move Go"})})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Waiting for cookie consent..."})]})]})})}):(0,s.jsx)("nav",{className:r.$.wrapper,children:(0,s.jsx)("div",{className:r.$.container,children:(0,s.jsxs)("div",{className:r.$.header,children:[(0,s.jsx)("div",{className:r.$.logo,children:(0,s.jsx)("a",{href:"/",onClick:T,children:"Pack Move Go"})}),b?(0,s.jsxs)("div",{className:"relative block",children:[(0,s.jsxs)("button",{onClick:N,className:"\n                  ".concat(r.$.mobileBottom.menuButton,"\n                  ").concat(f?r.$.mobileBottom.menuButtonActive:"","\n                  transition-all duration-300 ease-in-out transform\n                  ").concat(f?"scale-110 rotate-180":"scale-100 rotate-0","\n                "),"aria-expanded":f,"aria-label":f?"Close menu":"Open menu",children:[(0,s.jsx)("span",{className:"sr-only",children:f?"Close menu":"Open menu"}),f?(0,s.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12",className:"text-blue-600"})}):(0,s.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),f&&(0,s.jsx)("div",{className:"fixed left-0 right-0 top-16 bottom-0 bg-black bg-opacity-25 transition-opacity duration-300 ease-in-out z-40",onClick:A}),(0,s.jsxs)("div",{className:"\n                  ".concat(r.$.mobileBottom.panel,"\n                  ").concat(f?r.$.mobileBottom.panelOpen:r.$.mobileBottom.panelClosed,"\n                "),children:[(0,s.jsx)("div",{className:"flex-1 py-3 px-4 space-y-2",children:p?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Loading navigation..."})]}):S.map((e,t)=>(0,s.jsx)("a",{href:e.path,className:"\n                          ".concat(r.$.mobileBottom.link.base,"\n                          ").concat(d.pathname===e.path?r.$.mobileBottom.link.active:r.$.mobileBottom.link.inactive,"\n                          ").concat(f?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-95 translate-x-full","\n                        "),onClick:t=>k(t,e.path),style:{transitionDelay:"".concat((t+1)*200,"ms")},children:e.label},e.path))}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:(0,s.jsx)("a",{href:"/booking",className:"\n                      ".concat(r.$.mobileBottom.bookNowButton,"\n                      ").concat(f?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-95 translate-x-full","\n                    "),onClick:e=>k(e,"/booking"),style:{transitionDelay:"800ms"},children:"Book Now"})})]})]}):(0,s.jsx)("div",{ref:C,className:"flex-1 flex justify-end",children:(0,s.jsx)("nav",{ref:w,className:r.$.desktop.nav,children:p?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):S.map(e=>(0,s.jsx)("a",{href:e.path,className:"\n                        ".concat(r.$.desktop.link.base,"\n                        ").concat(d.pathname===e.path?r.$.desktop.link.active:r.$.desktop.link.inactive,"\n                      "),onClick:t=>k(t,e.path),children:e.label},e.path))})})]})})})};u.displayName="Navbar";let h=u},9872:(e,t,a)=>{a.d(t,{AV:()=>o,mI:()=>s});let s=()=>Date.now(),o=()=>new Date},9923:(e,t,a)=>{a.d(t,{A:()=>u});var s=a(5155),o=a(2115),n=a(2335),r=a(6901);function i(e,t){if(!t)return e;let a=e.toLowerCase(),s=t.toLowerCase(),o=a.indexOf(s);return -1===o?e:e.slice(0,o)+'<mark class="bg-yellow-200">'.concat(e.slice(o,o+t.length),"</mark>")+e.slice(o+t.length)}var l=a(5953);let c=e=>{let{onSearch:t,onSearchComplete:a,onSearchClear:c,className:d=""}=e,u=(0,o.useRef)(null),h=(0,n.Zp)(),[m,p]=(0,o.useState)(""),{results:g,isOpen:v,setIsOpen:x,handleSearch:f,handleQueryChange:y,clearSearch:b}=function(){let{onSearchComplete:e,onSearchClear:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,s]=(0,o.useState)(""),[n,i]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),d=(0,o.useCallback)(a=>{if(a){let t=(0,r.U)(a);i(t),c(!0),null==e||e(t)}else i([]),c(!1),null==t||t()},[e,t]),u=(0,o.useCallback)(e=>{let t=e.target.value;s(t),d(t)},[d]),h=(0,o.useCallback)(e=>{e.preventDefault(),a&&d(a)},[a,d]),m=(0,o.useCallback)(()=>{s(""),i([]),c(!1),null==t||t()},[t]);return{query:a,results:n,isOpen:l,setQuery:s,setIsOpen:c,handleSearch:h,handleQueryChange:u,clearSearch:m}}({onSearchComplete:a,onSearchClear:c}),E=(0,o.useMemo)(()=>((e,t)=>{let a,s=function(){for(var s=arguments.length,o=Array(s),n=0;n<s;n++)o[n]=arguments[n];clearTimeout(a),a=setTimeout(()=>e(...o),t)};return s.cancel=()=>{clearTimeout(a)},s})(e=>{t&&f({target:{value:e}})},300),[t,f]);(0,o.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e),E.cancel()}},[x,E]);let w=(0,o.useCallback)(e=>{h(e.path),b()},[h,b]),C=(0,o.useCallback)(async e=>{if(e.preventDefault(),t)try{let e=await Promise.resolve(t(m));a&&a(e)}catch(e){console.error("Search error:",e)}},[m,t,a]),N=(0,o.useCallback)(()=>{h("/signin")},[h]),k=(0,o.useCallback)(e=>{let t=e.target.value;p(t),y(e),E(t)},[y,E]);return(0,s.jsx)("div",{ref:u,className:"".concat(l.$.search.wrapper," ").concat(d),children:(0,s.jsxs)("div",{className:l.$.search.container,children:[(0,s.jsxs)("div",{className:l.$.search.content,children:[(0,s.jsxs)("form",{onSubmit:C,className:l.$.search.form,children:[(0,s.jsx)("input",{type:"text",id:"searchQuery",placeholder:"Search services, locations, or resources...",className:l.$.search.input,value:m,onChange:k,onFocus:()=>x(!0)}),(0,s.jsx)("div",{className:l.$.search.iconWrapper,children:(0,s.jsx)("svg",{className:l.$.search.icon,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),m&&(0,s.jsx)("button",{type:"button",className:l.$.search.clearButton,onClick:b,"aria-label":"Clear search",children:(0,s.jsx)("svg",{className:l.$.search.clearIcon,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("button",{onClick:N,className:l.$.search.signInButton,"aria-label":"Sign in",children:[(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Sign In"]})]}),v&&g.length>0&&(0,s.jsx)("div",{className:l.$.search.results.wrapper,children:(0,s.jsx)("div",{className:l.$.search.results.container,children:g.map((e,t)=>(0,s.jsxs)("button",{className:l.$.search.results.item,onClick:()=>w(e),children:[(0,s.jsx)("div",{className:l.$.search.results.title,dangerouslySetInnerHTML:{__html:i(e.title,m)}}),(0,s.jsx)("div",{className:l.$.search.results.description,dangerouslySetInnerHTML:{__html:i(e.description,m)}})]},t))})})]})})};c.displayName="SearchBar";let d=o.memo(c);d.displayName="MemoizedSearchBar";let u=d}}]);