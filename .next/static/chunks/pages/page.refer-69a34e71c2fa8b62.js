(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2517],{2257:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(7876),s=a(4232),l=a(3177);async function n(){try{console.log("\uD83D\uDE80 Fetching referral data from API...");let e=await l.api.getReferral();if(console.log("\uD83D\uDCE1 Referral API response:",e),e&&e.referralProgram&&e.howItWorks&&e.referralStats)return console.log("✅ Referral data loaded successfully"),e;if(e&&e.success&&e.data&&e.data.referralProgram)return console.log("✅ Referral data loaded from wrapped response"),e.data;throw console.warn("⚠️ Unexpected referral data format:",e),Error("Invalid referral data format")}catch(e){throw console.error("❌ Error loading referral data:",e),Error("Failed to load referral data")}}function i(e,r){return"number"!=typeof e||isNaN(e)?"$0.00":"percent"===r?"".concat(e,"%"):new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(e)}var o=a(8920),d=a(6530),c=a(4807),m=a(3512),x=a(6517);let h=e=>{let{referralProgram:r,howItWorks:a,referralTerms:l,referralStats:n,socialSharing:o,referralForm:d,successStories:c,isLoading:m,error:h}=e,[u,f]=(0,s.useState)({}),[g,p]=(0,s.useState)({}),[b,j]=(0,s.useState)(!1),[N,y]=(0,s.useState)(!1),[v,w]=(0,s.useState)(""),[R,k]=(0,s.useState)(!1);console.log("\uD83D\uDD27 ReferPage component received:",{referralProgram:!!r,howItWorksCount:(null==a?void 0:a.length)||0,referralTermsCount:(null==l?void 0:l.length)||0,referralStats:!!n,socialSharing:!!o,referralForm:!!d,successStoriesCount:(null==c?void 0:c.length)||0,isLoading:m,error:h});let S=r||{title:"Referral Program",description:"Join our referral program and earn rewards",mainReward:{amount:0,currency:"USD",type:"cash",description:""},bonusRewards:[]},P=a&&Array.isArray(a)?a:[],C=l&&Array.isArray(l)?l:[],E=n||{totalReferrals:0,totalRewardsPaid:0,averageRewardPerReferral:0,successfulReferrals:0,pendingReferrals:0},I=o||{title:"Share Your Referral Link",description:"Share with friends and start earning rewards",platforms:[]},L=d||{title:"Get Your Referral Link",description:"Fill out the form below to get your unique referral link",fields:[]},_=c&&Array.isArray(c)?c:[];if(m)return(0,t.jsx)("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading referral program..."})]})});if(h)return(0,t.jsx)("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Referral Program"}),(0,t.jsx)("p",{className:"text-gray-600",children:h})]})});let A=async e=>{e.preventDefault();let r=function(e){var r,a,t;let s={};return e&&"object"==typeof e?((null==(r=e.firstName)?void 0:r.trim())||(s.firstName="First name is required"),(null==(a=e.lastName)?void 0:a.trim())||(s.lastName="Last name is required"),(null==(t=e.email)?void 0:t.trim())?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(s.email="Please enter a valid email address"):s.email="Email is required",e.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(e.phone.replace(/\s/g,""))&&(s.phone="Please enter a valid phone number"),{isValid:0===Object.keys(s).length,errors:s}):{isValid:!1,errors:{general:"Invalid form data"}}}(u);if(!r.isValid)return void p(r.errors);j(!0),setTimeout(()=>{w(function(e){return e&&"string"==typeof e?"https://packmovego.com/ref/".concat(e):"https://packmovego.com/ref/unknown"}("user_".concat((0,x.mI)()))),y(!0),j(!1)},2e3)},F=async()=>{try{await function(e){return e&&"string"==typeof e?"undefined"!=typeof navigator&&navigator.clipboard?navigator.clipboard.writeText(e):Promise.reject(Error("Clipboard API not available")):Promise.reject(Error("Invalid text to copy"))}(v),k(!0),setTimeout(()=>k(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}};return(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:S.title}),(0,t.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:S.description}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Found ",P.length," steps, ",C.length," terms, ",_.length," success stories"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 mb-12 text-white text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCB0"}),(0,t.jsxs)("h2",{className:"text-3xl font-bold mb-2",children:["Earn ",i(S.mainReward.amount,S.mainReward.currency)," Per Referral"]}),(0,t.jsx)("p",{className:"text-xl opacity-90",children:S.mainReward.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:E.totalReferrals.toLocaleString()}),(0,t.jsx)("div",{className:"text-gray-600",children:"Total Referrals"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:i(E.totalRewardsPaid,"USD")}),(0,t.jsx)("div",{className:"text-gray-600",children:"Total Rewards Paid"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:E.successfulReferrals.toLocaleString()}),(0,t.jsx)("div",{className:"text-gray-600",children:"Successful Referrals"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:E.pendingReferrals}),(0,t.jsx)("div",{className:"text-gray-600",children:"Pending Referrals"})]})]}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"How It Works"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:P.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:e.icon}),(0,t.jsxs)("div",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full inline-block mb-4",children:["Step ",e.step]}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600",children:e.description})]},e.step))})]}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Bonus Rewards"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:S.bonusRewards.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-4",children:"\uD83C\uDF81"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-3",children:"percent"===e.currency?"".concat(e.amount,"%"):i(e.amount,e.currency)}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 mb-12",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:L.title}),(0,t.jsx)("p",{className:"text-gray-600",children:L.description})]}),N?(0,t.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-green-600 text-4xl mb-4",children:"✅"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Your Referral Link is Ready!"}),(0,t.jsx)("p",{className:"text-green-700",children:"Share this link with friends and start earning rewards."})]}),(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("input",{type:"text",value:v,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-gray-700"}),(0,t.jsx)("button",{onClick:F,className:"ml-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:R?"Copied!":"Copy"})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:I.title}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:I.platforms.map(e=>(0,t.jsxs)("button",{onClick:()=>(e=>{var r;let a=(null==(r=o.platforms.find(r=>r.name.toLowerCase()===e))?void 0:r.shareText)||"";!function(e,r,a){if(!e||!r||!a)return console.warn("Invalid parameters for social media sharing");let t=encodeURIComponent(r),s=encodeURIComponent(a),l={facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(s,"&quote=").concat(t),twitter:"https://twitter.com/intent/tweet?text=".concat(t,"&url=").concat(s),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(s),whatsapp:"https://wa.me/?text=".concat(t,"%20").concat(s)}[e];l?window.open(l,"_blank","width=600,height=400"):console.warn("Unsupported social media platform: ".concat(e))}(e,a,v)})(e.name.toLowerCase()),className:"".concat(e.color," text-white px-6 py-3 rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center gap-2"),children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsxs)("span",{children:["Share on ",e.name]})]},e.name))})]})]}):(0,t.jsxs)("form",{onSubmit:A,className:"max-w-2xl mx-auto",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:L.fields.map(e=>(0,t.jsxs)("div",{className:"email"===e.name||"phone"===e.name?"md:col-span-2":"",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:e.type,value:u[e.name]||"",onChange:r=>((e,r)=>{f(a=>({...a,[e]:r})),g[e]&&p(r=>({...r,[e]:""}))})(e.name,r.target.value),placeholder:e.placeholder,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(g[e.name]?"border-red-500":"border-gray-300")}),g[e.name]&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:g[e.name]})]},e.name))}),(0,t.jsx)("div",{className:"text-center mt-8",children:(0,t.jsx)("button",{type:"submit",disabled:b,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:b?"Generating Link...":"Get My Referral Link"})})]})]}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Success Stories"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold mr-4",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.location})]})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e.story}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-blue-600 font-medium",children:[e.referrals," referrals"]}),(0,t.jsxs)("span",{className:"text-green-600 font-medium",children:["Earned ",i(e.totalEarned,"USD")]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Terms & Conditions"}),(0,t.jsx)("ul",{className:"space-y-3",children:C.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-3 mt-1",children:"•"}),(0,t.jsx)("span",{className:"text-gray-700",children:e})]},r))})]}),(0,t.jsxs)("div",{className:"mt-16 text-center bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to Start Earning?"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who are already earning rewards by referring friends to Pack Move Go."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,t.jsx)("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Get Started Now"}),(0,t.jsx)("button",{className:"border border-blue-600 text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:"Learn More"})]})]})]})};h.displayName="Refer";let u=()=>{let{referralData:e,isLoading:r,error:a}=function(){let[e,r]=(0,s.useState)(null),[a,t]=(0,s.useState)(!0),[l,i]=(0,s.useState)(null),o=(0,s.useCallback)(async()=>{try{t(!0),i(null),console.log("\uD83D\uDD04 Loading referral data...");let e=await n();r(e),console.log("✅ Referral data loaded successfully")}catch(r){let e=r instanceof Error?r.message:"Failed to load referral data";console.error("❌ Referral loading error:",e),i(e)}finally{t(!1)}},[]);return(0,s.useEffect)(()=>{o()},[o]),{referralData:e,isLoading:a,error:l,refreshReferralData:(0,s.useCallback)(()=>{o()},[o])}}(),{getSectionProps:l}=(0,o.JG)();return(0,t.jsx)(m.A,{children:(0,t.jsxs)(d.A,{children:[(0,t.jsx)(c.A,{title:"Referral Program - Pack Move Go",description:"Join our referral program and earn rewards for recommending Pack Move Go services to friends and family.",keywords:"referral program, earn rewards, moving services referral"}),(0,t.jsx)("div",{...l("hero"),children:e&&(0,t.jsx)(h,{referralProgram:e.referralProgram,howItWorks:e.howItWorks,referralTerms:e.referralTerms,referralStats:e.referralStats,socialSharing:e.socialSharing,referralForm:e.referralForm,successStories:e.successStories,isLoading:r,error:a})})]})})}},4897:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/page.refer",function(){return a(2257)}])}},e=>{e.O(0,[3796,8307,8468,400,6530,3502,636,6593,8792],()=>e(e.s=4897)),_N_E=e.O()}]);